(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{9063:function(e,l,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles",function(){return i(76270)}])},76270:function(e,l,i){"use strict";i.r(l),i.d(l,{__N_SSG:function(){return m}});var a=i(97458),t=i(15714),n=i(41816),d=i(87608),s=i.n(d),u=i(5510),o=i(10662),r=i(60585),c=i(27715),v=i(52983),x=i(43979),f=i(90447),p=i(41762);let h=()=>{var e,l,i,d,h;let[m,g]=(0,v.useState)(""),[j,y]=(0,v.useState)(1),[b,N]=(0,v.useState)("0"),w=(0,n.Nr)(m,200),[_,S]=(0,v.useState)(),[R,C]=(0,v.useState)(),[P,k]=(0,v.useState)(),E=(0,c.useRouter)(),{difficulty:H,product:Z,topic:O,search:q}=E.query,{data:D}=(0,x.ZP)("/difficulties"),{data:M}=(0,x.ZP)("/topics"),{data:T}=(0,x.ZP)("/products"),W=(0,v.useMemo)(()=>_?((null==D?void 0:D.data)||[])[+_]:void 0,[null==D?void 0:D.data,_]),B=r.Hy[+b];(0,v.useEffect)(()=>{if(E.isReady&&H){var e;let l=null==D?void 0:null===(e=D.data)||void 0===e?void 0:e.findIndex(e=>{let{attributes:l}=e;return(null==l?void 0:l.slug)===H});"number"==typeof l&&S("".concat(l))}},[null==D?void 0:D.data,H,E.isReady]),(0,v.useEffect)(()=>{if(E.isReady&&Z){var e;let l=null==T?void 0:null===(e=T.data)||void 0===e?void 0:e.find(e=>{let{attributes:l}=e;return(null==l?void 0:l.slug)===Z});l&&C(l)}},[Z,null==T?void 0:T.data,E.isReady]),(0,v.useEffect)(()=>{if(E.isReady&&O){var e;let l=null==M?void 0:null===(e=M.data)||void 0===e?void 0:e.find(e=>{let{attributes:l}=e;return(null==l?void 0:l.slug)===O});l&&k(l)}},[E.isReady,O,null==M?void 0:M.data]),(0,v.useEffect)(()=>{E.isReady&&q&&g(q)},[E.isReady,q]);let{data:F,isValidating:J}=(0,x.ZP)(["/articles",W,R,P,w,j,B.key],async e=>{var l,i,a;let[t,n,d,s,u,o,r]=e,c=null==n?void 0:null===(l=n.attributes)||void 0===l?void 0:l.slug,v=null==d?void 0:null===(i=d.attributes)||void 0===i?void 0:i.slug,x=null==s?void 0:null===(a=s.attributes)||void 0===a?void 0:a.slug,f={...u&&{title:{containsi:u}},...c&&{difficulty:{slug:{eq:c}}},...v&&{products:{slug:{eq:v}}},...x&&{topics:{slug:{eq:x}}}};return await (0,p.Zz)({filters:f,pagination:{page:o,pageSize:10},sort:[r]})},{revalidateOnFocus:!1,revalidateIfStale:!1,revalidateOnReconnect:!1,revalidateOnMount:!0}),Q=(0,n.Nr)(J,400),V=null==F?void 0:F.data,z=(null==D?void 0:D.data)||[],I=(null==T?void 0:T.data)||[],K=(null==M?void 0:M.data)||[],U=null==F?void 0:F.meta,X=()=>g(""),G=e=>{R&&C(void 0),X(),k(l=>(null==l?void 0:l.id)===e.id?void 0:e)},L=e=>{P&&k(void 0),X(),C(l=>(null==l?void 0:l.id)===e.id?void 0:e)},$=null!==(h=null==U?void 0:null===(e=U.pagination)||void 0===e?void 0:e.total)&&void 0!==h?h:0,A=(0,v.useMemo)(()=>{let e="Latest releases";if(E.isReady){var l;W&&(e=null===(l=W.attributes)||void 0===l?void 0:l.shortDescription),(q||P||R)&&(e="Search results")}return e},[E.isReady,q,W,R,P]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Mj,{isTopOfPage:!0,className:"w-full sm:hidden",handleSearch:g}),(0,a.jsx)(f.Jv,{title:A,difficulties:z,selectedDifficulty:_,onSelect:S}),(0,a.jsxs)(u.W,{maxWidth:"6xl",className:s()("mx-auto pb-10",r.JC),children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 w-full gap-3 sm:hidden mt-[22px]",children:[(0,a.jsxs)(o.Ph,{value:_,onValueChange:S,children:[(0,a.jsx)(o.i4,{placeholder:"Select Difficulty",children:null==W?void 0:null===(l=W.attributes)||void 0===l?void 0:l.name}),(0,a.jsx)(o.Bw,{children:z.map((e,l)=>{var i;return(0,a.jsx)(o.Ql,{value:"".concat(l),children:null===(i=e.attributes)||void 0===i?void 0:i.name},e.id)})})]}),(0,a.jsxs)(o.Ph,{value:b,onValueChange:N,children:[(0,a.jsx)(o.i4,{placeholder:"Sort by",children:r.Hy[+b].name}),(0,a.jsx)(o.Bw,{children:null===r.Hy||void 0===r.Hy?void 0:r.Hy.map((e,l)=>(0,a.jsx)(o.Ql,{value:"".concat(l),children:e.name},e.key))})]})]}),(0,a.jsxs)(u.W,{maxWidth:"full",className:"sm:grid sm:grid-cols-[min-content,1fr] justify-between gap-8 mx-auto lg:gap-12 mt-[22px] sm:mt-12",children:[(0,a.jsxs)("aside",{className:"flex-col hidden w-full min-w-[180px] max-w-[280px] sm:flex sticky h-fit top-[104px]",children:[(0,a.jsxs)("div",{className:"flex items-center w-full gap-3 px-4 rounded-lg h-11 bg-slate-800 focus-within:ring-2 ring-slate-700 ring-offset-2 ring-offset-slate-900",children:[(0,a.jsx)(t.Z,{width:24,height:24,className:"text-slate-50"}),(0,a.jsx)("input",{onChange:e=>g(e.target.value),className:"font-medium placeholder:text-sm bg-transparent placeholder:text-slate-50 text-base !ring-0 !outline-0",placeholder:"Search Topic...",value:m})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 mt-12",children:[I.map((e,l)=>{var i;return(0,a.jsx)("span",{className:s()("py-2 px-5 rounded-lg hover:bg-blue-500 text-slate-300",(null==R?void 0:R.id)===e.id&&"bg-blue-500"),onClick:()=>L(e),onKeyUp:()=>L(e),children:null===(i=e.attributes)||void 0===i?void 0:i.longName},e.id)}),K.map((e,l)=>{var i;return(0,a.jsx)("span",{className:s()("py-2 px-5 rounded-lg hover:bg-blue-500 text-slate-300",(null==P?void 0:P.id)===e.id&&"bg-blue-500"),onClick:()=>G(e),onKeyUp:()=>G(e),children:null===(i=e.attributes)||void 0===i?void 0:i.name},e.id)})]})]}),(0,a.jsxs)("div",{className:"w-full",children:[V&&!V.length?(0,a.jsx)("span",{className:"text-lg",children:"No articles found"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"font-medium",children:[$," Results"]}),(0,a.jsxs)(o.Ph,{value:b,onValueChange:N,children:[(0,a.jsx)(o.i4,{placeholder:"Sort by",children:r.Hy[+b].name}),(0,a.jsx)(o.Bw,{children:null===r.Hy||void 0===r.Hy?void 0:r.Hy.map((e,l)=>(0,a.jsx)(o.Ql,{value:"".concat(l),children:e.name},e.key))})]})]}),(0,a.jsx)("div",{className:"grid gap-6 grid-cols-[repeat(auto-fill,minmax(286px,1fr))] sm:mt-12 mt-[22px]",children:(0,a.jsx)(f.wD,{articles:V,loading:Q||!V,render:e=>{var l;return(0,a.jsx)(f.Zb,{article:e},"article__left__".concat(null==e?void 0:null===(l=e.attributes)||void 0===l?void 0:l.slug))}})})]}),(0,a.jsx)("div",{className:"flex justify-center mt-12",children:(null==U?void 0:null===(i=U.pagination)||void 0===i?void 0:i.pageCount)&&(null==U?void 0:null===(d=U.pagination)||void 0===d?void 0:d.pageCount)>0&&(0,a.jsx)(f.tl,{page:U.pagination.page,onPage:y,pages:U.pagination.pageCount})})]})]})]})]})};var m=!0;l.default=e=>{let{fallback:l}=e;return(0,a.jsx)(x.J$,{value:{fallback:l},children:(0,a.jsx)(h,{})})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=9063)}),_N_E=e.O()}]);
//# sourceMappingURL=articles-a52d4d55770211c5.js.map