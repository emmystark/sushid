"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{80142:function(e,a,t){t.d(a,{g:function(){return d}});var n=t(97458),s=t(43360),r=t(87608),i=t.n(r),o=t(13697),l=t(90460);const d=e=>{let{chainId:a,label:t,active:r,value:d,onChange:c,currency:u}=e;var m,h;const{address:p}=(0,o.mA)(),{data:x}=(0,l.K)({account:p,currency:u,chainId:a,loadBentobox:!0,enabled:Boolean(u&&a&&p)});return(0,n.jsxs)("div",{role:"button",onClick:c,className:i()(r?"ring-blue bg-blue/20":"ring-transparent bg-black/[0.04] dark:bg-white/[0.04]","ring-2 text-left rounded-2xl px-5 py-3 cursor-pointer relative flex flex-col justify-center gap-3 min-w-[140px]"),children:[(0,n.jsx)("span",{className:"dark:text-slate-50",children:t}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-[10px] font-semibold uppercase text-gray-600 dark:text-slate-400",children:"Balance"}),(0,n.jsxs)("span",{className:"text-sm font-medium",children:[x&&d?x[d].toSignificant(6):"0.00"," ",d&&(null===(h=x)||void 0===h||null===(m=h[d])||void 0===m?void 0:m.currency.symbol)]})]}),r&&(0,n.jsx)("div",{className:"absolute w-5 h-5 top-3 right-3",children:(0,n.jsx)(s.Z,{className:"text-blue"})})]})}},23985:function(e,a,t){t.d(a,{D0:function(){return p},G7:function(){return c},N8:function(){return h},SB:function(){return v},Yo:function(){return x},Zp:function(){return u},ed:function(){return f},j3:function(){return m},kh:function(){return d}});var n=t(54266),s=t(89714),r=t(27557),i=t(52983),o=t(46256),l=t(68941);const d=o.z.object({chainId:o.z.number(),address:o.z.string().optional(),symbol:o.z.string().optional(),name:o.z.string().optional(),decimals:o.z.number(),isNative:o.z.boolean()}),c=o.z.string().refine((e=>!!e&&(0,n.UJ)(e)),"Invalid address").transform((e=>e)),u=o.z.string(),m=d.transform((e=>{let{address:a,decimals:t,chainId:n,symbol:r,name:i,isNative:o}=e;return o&&void 0===a?s._r.onChain(n):new s.WU({address:a,decimals:t,chainId:n,symbol:r,name:i})})),h=u.optional().transform((e=>{if(e)return r.W$[e]})),p=e=>(0,i.useMemo)((()=>h.parse(e)),[e]),x=e=>(0,i.useMemo)((()=>{if(e)return m.parse(e)}),[e]),v=e=>(0,i.useMemo)((()=>e.map((e=>{if(e)return m.parse(e)}))),[e]),f=o.z.object({id:o.z.string().refine((e=>e.includes(":")),{message:"TokenId not in the right format"}).transform((e=>{const[a,t]=e.split(":");return[+a,t]})).refine((e=>{let[a]=e;return(0,l.h)(a)}),{message:"ChainId not supported."}).refine((e=>{let[,a]=e;return"number"===typeof+a}),{message:"StreamId not supported."})})},28735:function(e,a,t){t.d(a,{h:function(){return o}});var n=t(54266),s=t(27573),r=t(31085),i=t(75851);const o=e=>{let{chainId:a}=e;return(0,i.a)({queryKey:["prices",a],queryFn:async()=>{if(!a)return;const e=await async function(e){let{chainId:a}=e;return fetch("https://api.sushi.com/price/v1/".concat(a)).then((e=>e.json())).catch((e=>{throw console.error("Error fetching token prices",a,e),e}))}({chainId:a});return Object.entries(e).reduce(((e,a)=>{let[t,i]=a;return(0,n.UJ)(t)&&(e[(0,n.Kn)(t)]=new r.iA((0,s.vz)(i.toFixed(18),18).toString(),(0,s.vz)("1",18).toString())),e}),{})},staleTime:9e5,cacheTime:36e5,refetchOnWindowFocus:!1,enabled:Boolean(a)})}},94328:function(e,a,t){t.d(a,{NI:function(){return g},Wi:function(){return p},hj:function(){return m},l0:function(){return u},pf:function(){return b},xJ:function(){return f},zG:function(){return y}});var n=t(97458),s=t(78411),r=t(52983),i=t(92570),o=t(29334),l=t(87608),d=t.n(l),c=t(83488);const u=i.RV,m=e=>{let{title:a,description:t,children:s}=e;return(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-x-10 lg:gap-x-[56px] py-2",children:[(0,n.jsx)("div",{className:"col-span-3 md:col-span-1 py-4",children:(0,n.jsxs)(o.Ol,{className:"!p-0",children:[(0,n.jsx)(o.ll,{children:a}),(0,n.jsx)(o.SZ,{children:t})]})}),(0,n.jsx)("div",{className:"col-span-3 md:col-span-2 space-y-6 py-4",children:s})]})},h=r.createContext({}),p=e=>{let{...a}=e;return(0,n.jsx)(h.Provider,{value:{name:a.name},children:(0,n.jsx)(i.Qr,{...a})})},x=()=>{const e=r.useContext(h),a=r.useContext(v),{getFieldState:t,formState:n}=(0,i.Gc)(),s=t(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=a;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...s}},v=r.createContext({}),f=r.forwardRef(((e,a)=>{let{className:t,...s}=e;const i=r.useId();return(0,n.jsx)(v.Provider,{value:{id:i},children:(0,n.jsx)("div",{ref:a,className:d()("space-y-2",t),...s})})}));f.displayName="FormItem";r.forwardRef(((e,a)=>{let{className:t,...s}=e;const{error:r,formItemId:i}=x();return(0,n.jsx)(c._,{ref:a,className:d()(r&&"text-destructive",t),htmlFor:i,...s})})).displayName="FormLabel";const g=r.forwardRef(((e,a)=>{let{...t}=e;const{error:r,formItemId:i,formDescriptionId:o,formMessageId:l}=x();return(0,n.jsx)(s.g7,{ref:a,id:i,"aria-describedby":r?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!r,...t})}));g.displayName="FormControl";const b=r.forwardRef(((e,a)=>{let{className:t,...s}=e;const{formDescriptionId:r}=x();return(0,n.jsx)("p",{ref:a,id:r,className:d()("text-sm text-muted-foreground",t),...s})}));b.displayName="FormDescription";const y=r.forwardRef(((e,a)=>{let{children:t,...s}=e;var r;const{error:i,formMessageId:o}=x(),l=i?String(null===(r=i)||void 0===r?void 0:r.message):t;return l?i?(0,n.jsx)(w,{id:o,ref:a,...s,children:l}):(0,n.jsx)(b,{id:o,ref:a,...s,children:l}):null}));y.displayName="FormMessage";const w=r.forwardRef(((e,a)=>{let{className:t,children:s,...r}=e;return(0,n.jsx)("p",{ref:a,className:d()("text-sm font-medium text-red",t),...r,children:s})}));w.displayName="FormError"},34535:function(e,a,t){t.d(a,{k:function(){return re}});var n=t(97458),s=t(54266),r=t(81093),i=t(89412),o=t(89714),l=t(27557),d=t(27619);const c=async e=>{let{tokens:a}=e;try{await d.db.tokens.bulkPut(a)}catch(t){console.error(t)}};var u=t(75851);const m=async()=>{const e=await fetch("/furo/api/tokens");if(200===e.status){const a=await e.json();return await c({tokens:a.map((e=>{let{id:a,address:t,symbol:n,decimals:s,name:r}=e;const[i]=a.split(":");return{id:a,address:t,symbol:n,decimals:s,name:r,status:"APPROVED",chainId:+i}}))}),a.reduce(((e,a)=>{let{id:t,name:n,symbol:r,decimals:i}=a;const[l,d]=t.split(":");var c;return e[+l]=null!==(c=e[+l])&&void 0!==c?c:{},e[+l][(0,s.Kn)(d)]=new o.WU({chainId:l,name:n,decimals:i,symbol:r,address:d}),e}),{})}throw new Error("Could not fetch tokens")},h=e=>{let{chainId:a}=e;return(0,u.a)({queryKey:["/furo/api/tokens"],queryFn:m,select:e=>e[a],keepPreviousData:!0,staleTime:9e5,cacheTime:864e5})};var p=t(52983);const x=["https://gateway.ipfs.io/ipns/tokens.uniswap.org","https://gateway.ipfs.io/ipns/extendedtokens.uniswap.org","https://raw.githubusercontent.com/compound-finance/token-list/master/compound.tokenlist.json","https://tokens.coingecko.com/uniswap/all.json","https://tokens.coingecko.com/base/all.json","https://tokens.coingecko.com/binance-smart-chain/all.json","https://tokens.coingecko.com/arbitrum-one/all.json","https://tokens.coingecko.com/optimistic-ethereum/all.json","https://tokens.coingecko.com/celo/all.json","https://tokens.coingecko.com/polygon-pos/all.json","https://tokens.coingecko.com/avalanche/all.json","https://www.gemini.com/uniswap/manifest.json","https://raw.githubusercontent.com/SetProtocol/uniswap-tokenlist/main/set.tokenlist.json","https://bridge.arbitrum.io/token-list-42161.json","https://static.optimism.io/optimism.tokenlist.json","https://celo-org.github.io/celo-token-list/celo.tokenlist.json","https://raw.githubusercontent.com/plasmadlt/plasma-finance-token-list/master/bnb.json"];var v=t(46256);const f=v.ZP.object({id:v.ZP.string(),address:v.ZP.string(),chainId:v.ZP.number(),decimals:v.ZP.number(),name:v.ZP.string(),symbol:v.ZP.string()}),g=(v.ZP.array(f),v.ZP.object({tokens:v.ZP.array(v.ZP.object({address:v.ZP.string(),chainId:v.ZP.number(),decimals:v.ZP.number(),name:v.ZP.string(),symbol:v.ZP.string()}))}));var b=t(28735);const y="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",w=e=>{const{chainId:a}=e,{data:t}=h({chainId:a});return((e,a)=>{let{chainId:t,account:n,enabled:s=!0}=e;return(0,u.a)({queryKey:["/furo/api/balances/".concat(t,"/").concat(n)],queryFn:()=>fetch("/furo/api/balances/".concat(t,"/").concat(n)).then((e=>e.json())),staleTime:9e5,cacheTime:36e5,enabled:Boolean(t&&n&&s),select:a})})(e,(0,p.useCallback)((e=>t?Object.entries(e).reduce(((e,n)=>{let[r,i]=n;if(r.toLowerCase()===y)e[r]=o.$d.fromRawAmount(o._r.onChain(a),i);else{const a=(0,s.Kn)(r);t[a]&&(e[a]=o.$d.fromRawAmount(t[a],i))}return e}),{}):{}),[a,t]))};var j=t(20678),N=t(806),k=t(83860),I=t(87608),C=t.n(I),A=t(99454),T=t(31767),P=t(37617),S=t(77041),M=t(13697);var L=t(91824);const F=async e=>{let{chainId:a,address:t,customTokens:n,hasToken:s}=e;if(a&&s("".concat(a,":").concat(t))){const{address:e,name:s,symbol:r,decimals:i,id:o}=n["".concat(a,":").concat(t)];return{address:e,name:s,symbol:r,decimals:i,status:"UNKNOWN",id:o}}const r=await(async e=>{let{chainId:a,address:t}=e;if(a&&"string"===typeof t)try{return await d.db.tokens.where("id").equals("".concat(a,":").concat(t.toLowerCase())).first()}catch(n){return void console.error(n)}})({chainId:a,address:t});if(r)return r;const i=await fetch("/api/tokens/".concat(a,"/").concat(t));if(200===i.status){const{address:e,name:a,symbol:t,decimals:n,status:s,id:r}=await i.json(),[o]=r.split(":");return await c({tokens:[{address:e.toLowerCase(),chainId:+o,name:a,symbol:t,decimals:n,status:s,id:r}]}),{address:e,name:a,symbol:t,decimals:n,status:s,id:r}}if(a){const e=await(0,L.EC)({address:t,chainId:a}),{decimals:n,address:s,symbol:r,name:i}=e;return await c({tokens:[{address:s,chainId:+a,name:i,symbol:r,decimals:n,status:"UNKNOWN",id:"".concat(a,":").concat(s)}]}),{address:s,name:i,symbol:r,decimals:n,status:"UNKNOWN",id:"".concat(a,":").concat(s)}}throw Error("Could not fetch token")},E=e=>{let{chainId:a,address:t,withStatus:n,enabled:r=!0,keepPreviousData:i=!0}=e;const{data:d,hasToken:c}=(0,l.Xd)(),m=(0,p.useCallback)((e=>((e,a,t)=>{if(a&&e){const{address:n,name:s,symbol:r,decimals:i}=a,l=new o.WU({chainId:e,name:s,decimals:i,symbol:r,address:n});return t?{token:l,status:a.status}:l}})(a,e,n)),[a,n]);return(0,u.a)({queryKey:["token",{chainId:a,address:t}],queryFn:async()=>F({chainId:a,address:t,customTokens:d,hasToken:c}),enabled:Boolean(r&&a&&t&&(0,s.UJ)(t)),select:m,keepPreviousData:i,refetchOnWindowFocus:!1,retry:!1,staleTime:9e5,cacheTime:864e5})},B=()=>!0;function W(e,a){return e.filter(function(e){if((0,s.UJ)(e))return a=>e.toLowerCase()===a.address.toLowerCase();const a=e.toLowerCase().split(/\s+/).filter((e=>e.length>0));if(0===a.length)return B;const t=e=>{const t=e.toLowerCase().split(/\s+/).filter((e=>e.length>0));return a.every((e=>0===e.length||t.some((a=>a.startsWith(e)||a.endsWith(e)))))};return e=>{let{name:a,symbol:n}=e;return Boolean(n&&t(n)||a&&t(a))}}(a))}const U=(e,a)=>{var t,n;return e&&a?e.asFraction.equalTo(a.asFraction)?0:e.asFraction.greaterThan(a.asFraction)?-1:1:(null===(t=e)||void 0===t?void 0:t.greaterThan("0"))?-1:(null===(n=a)||void 0===n?void 0:n.greaterThan("0"))?1:0};function D(e,a){if(!e)return[];if(""===a)return e;const t=a.toLowerCase().split(/\s+/).filter((e=>e.length>0));if(t.length>1)return e;const n=[],s=[],r=[];return e.map((e=>{var i,o;return(null===(i=e.symbol)||void 0===i?void 0:i.toLowerCase())===t[0]?n.push(e):(null===(o=e.symbol)||void 0===o?void 0:o.toLowerCase().startsWith(a.toLowerCase().trim()))?s.push(e):r.push(e)})),[...n,...s,...r]}const Z=e=>{let{query:a,chainId:t,tokenMap:n,customTokenMap:s,balancesMap:r,pricesMap:i,includeNative:d}=e;const c=(0,l.Nr)(a,250);return(0,u.a)({queryKey:["sortedTokenList",{debouncedQuery:c,tokenMap:n,customTokenMap:s,balancesMap:r,pricesMap:i,includeNative:d}],queryFn:async()=>{const e=n?Object.values(n):[],a=[],l=e.filter((e=>!a.includes(e.address)&&(a.push(e.address),!0))),u=s?Object.values(s).filter((e=>e.chainId===t&&!a.includes(e.address))):[],m=d&&t&&(!c||c.toLowerCase().includes(o._r.onChain(t).symbol.toLowerCase())),h=[...W(l,c),...W(u,c)].sort(((e,a)=>(t,n)=>{var s,r,i,o,l,d,c,u;const m=(null===(s=a)||void 0===s?void 0:s[t.address])?null===(i=e)||void 0===i||null===(r=i[t.address])||void 0===r?void 0:r.multiply(a[t.address]):void 0,h=(null===(o=a)||void 0===o?void 0:o[n.address])?null===(d=e)||void 0===d||null===(l=d[n.address])||void 0===l?void 0:l.multiply(a[n.address]):void 0,p=U(m,h);if(0!==p)return p;const x=U(null===(c=e)||void 0===c?void 0:c[t.address],null===(u=e)||void 0===u?void 0:u[n.address]);return 0!==x?x:t.symbol&&n.symbol?t.symbol.toLowerCase()<n.symbol.toLowerCase()?-1:1:t.symbol||n.symbol?-1:0})(r,i)),p=D(h,c);return m?[o._r.onChain(t),...u,...p]:p},keepPreviousData:!0})};var V=t(14852),z=t(61788),K=t(34178),Q=t(7648),X=t(16275),J=t(31085),O=t(15037),q=t(17383),R=t(12562);const Y=(0,p.memo)((function(e){let{id:a,price:t,balance:s,currency:r,style:i,className:o,onSelect:l,pin:d,selected:c,isBalanceLoading:u,showWarning:m}=e;var h,x,v,f;const g=(0,p.useCallback)((()=>{l(r)}),[r,l]),b=(0,p.useCallback)((e=>{var a;e.stopPropagation(),null===(a=d)||void 0===a||a.onPin()}),[]);var y;return(0,n.jsx)("div",{className:"relative py-0.5 h-[64px]",style:i,children:(0,n.jsx)("div",{"testdata-id":"".concat(a,"-row-").concat(r.isNative?V.d:r.wrapped.address.toLowerCase()),onClick:g,className:C()(o,c?"bg-primary":"","group flex items-center w-full hover:bg-muted focus:bg-accent h-full rounded-lg px-3 token-".concat(null===(h=r)||void 0===h?void 0:h.symbol)),children:(0,n.jsxs)("div",{className:"flex items-center justify-between flex-grow gap-2 rounded cursor-pointer",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center flex-grow gap-4",children:[c?(0,n.jsx)(q.C,{position:"bottom-right",badgeContent:(0,n.jsx)("div",{className:"bg-white rounded-full dark:bg-slate-800",children:(0,n.jsx)(K.Z,{width:20,height:20,className:"rounded-full text-blue"})}),children:(0,n.jsx)("div",{className:"w-10 h-10",children:(0,n.jsx)(R.J,{disableLink:!0,currency:r,width:40,height:40})})}):(0,n.jsx)("div",{className:"w-10 h-10",children:(0,n.jsx)(R.J,{disableLink:!0,currency:r,width:40,height:40})}),(0,n.jsxs)("div",{className:"flex flex-col items-start",children:[(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900 group-hover:text-gray-900 dark:text-slate-50 dark:group-hover:text-white",children:r.symbol}),m?(0,n.jsx)(O.pn,{children:(0,n.jsxs)(O.u,{delayDuration:0,children:[(0,n.jsx)(O.aJ,{asChild:!0,children:(0,n.jsx)(Q.Z,{width:20,height:20,className:"text-yellow"})}),(0,n.jsx)(O._v,{children:"Not on our default token list"})]})}):null]}),(0,n.jsx)(O.pn,{children:(0,n.jsxs)(O.u,{children:[(0,n.jsx)(O.aJ,{asChild:!0,children:(0,n.jsx)("span",{className:"text-sm text-muted-foreground hover:underline",children:null!==(y=r.name)&&void 0!==y?y:r.symbol})}),(0,n.jsx)(O._v,{side:"bottom",className:"flex items-center gap-1",children:(0,n.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",href:X.Chain.from(r.chainId).getTokenUrl(r.wrapped.address),className:"text-blue hover:underline flex gap-1",children:["Show on explorer ",(0,n.jsx)(z.Z,{width:16,height:16})]})})]})})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[u?(0,n.jsxs)("div",{className:"flex flex-col min-w-[60px]",children:[(0,n.jsx)(S.N2,{className:"w-[60px]",align:"right"}),(0,n.jsx)(S.N2,{fontSize:"sm",className:"w-[20px]",align:"right"})]}):(null===(x=s)||void 0===x?void 0:x.greaterThan(J.xE))&&(0,n.jsxs)("div",{className:"flex flex-col max-w-[140px]",children:[(0,n.jsx)("span",{className:C()(c?"font-semibold":"font-medium","text-right text-gray-900 dark:text-slate-50 truncate"),children:null===(v=s)||void 0===v?void 0:v.toSignificant(6)}),(0,n.jsx)("span",{className:"text-sm font-medium text-right text-gray-500 dark:text-slate-400",children:t?"$".concat(null===(f=s)||void 0===f?void 0:f.multiply(t).toFixed(2)):"-"})]}),d&&(0,n.jsx)(k.h,{size:"xs",icon:"\u2b50",variant:"ghost",name:"pin",onClick:b,className:C()(d.isPinned?"":"grayscale opacity-50","z-50")})]})]})})})})),G=(0,p.memo)((function(e){let{id:a,onSelect:t,currencies:s,selected:r,pin:i,officialTokenIds:l,pricesMap:d,balancesMap:c,isBalanceLoading:u}=e;const{address:m}=(0,M.mA)(),h=(0,p.useMemo)((()=>s?s.map((e=>{var n,s;return{id:a,account:m,currency:e,balance:null===(n=c)||void 0===n?void 0:n[e.isNative?y:e.address],price:null===(s=d)||void 0===s?void 0:s[e.isNative?o._r.onChain(e.chainId).wrapped.address:e.address],showWarning:!e.isNative&&!l.includes(e.address),onSelect:()=>t(e),pin:i?{onPin:()=>{var a;return null===(a=i)||void 0===a?void 0:a.onPin(e.id)},isPinned:i.isPinned(e.id)}:void 0,selected:!!r&&(!0===e.isNative&&!0===r.isNative||r.isToken&&e.isToken&&e.wrapped.address===r.wrapped.address),isBalanceLoading:u}})):[]),[u,m,c,s,a,t,d,r,i]);return(0,n.jsx)(T.F.List,{className:"scroll",rowHeight:64,rowRenderer:Y,rowData:h})}));var H=t(9143);const $=[X.ChainId.AVALANCHE,X.ChainId.FANTOM,X.ChainId.GNOSIS,X.ChainId.HARMONY,X.ChainId.ETHEREUM,X.ChainId.HECO,X.ChainId.ARBITRUM,X.ChainId.OPTIMISM],_=e=>{let{currencies:a,enabled:t=!0}=e;var n;return(0,u.a)({queryKey:["useTokenSecurity",null===(n=a)||void 0===n?void 0:n.map((e=>{var a;return null===(a=e)||void 0===a?void 0:a.id}))],queryFn:()=>(async e=>{const a=e.filter((e=>e&&$.includes(e.chainId))),t=await Promise.all(a.map((e=>fetch("https://api.gopluslabs.io/api/v1/token_security/".concat(e.chainId,"?contract_addresses=").concat(e.address)).then((e=>e.json())).then((a=>{var t,n;return null===(n=a)||void 0===n||null===(t=n.result)||void 0===t?void 0:t[e.address.toLowerCase()]}))))),n=t.reduce(((e,t,n)=>{var s;return"1"===(null===(s=t)||void 0===s?void 0:s.is_honeypot)?[...e,a[n].address]:e}),[]);return{tokenSecurity:t,honeypots:n,isSupported:a.length>0}})(a),enabled:t,keepPreviousData:!0,staleTime:9e5,cacheTime:864e5})};var ee=t(9295),ae=t(58979),te=t.n(ae);const ne=e=>(0,n.jsx)(te(),{src:"data:image/png;base64,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",alt:"GoPlus",...e}),se=e=>{let{currencies:a,onImport:t}=e;var s,r,i,o;const[l,d]=(0,p.useState)(!1),{data:c}=_({currencies:a,enabled:l}),u=(0,p.useCallback)((()=>{var e;(null===(e=c)||void 0===e?void 0:e.honeypots)&&0!==c.honeypots.length?d(!1):(t(),setTimeout((()=>{d(!1)}),250))}),[t]);return(0,n.jsxs)(j.Vq,{children:[(0,n.jsx)("div",{className:"relative py-0.5 h-[64px]",children:(0,n.jsxs)("div",{className:"flex items-center w-full hover:bg-muted focus:bg-accent h-full rounded-lg px-3",children:[a[0]?(0,n.jsxs)("div",{className:"flex flex-row items-center flex-grow gap-4",children:[(0,n.jsx)("div",{className:"w-10 h-10",children:(0,n.jsx)(R.J,{disableLink:!0,currency:a[0],width:40,height:40})}),(0,n.jsxs)("div",{className:"flex flex-col items-start",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900 group-hover:text-gray-900 dark:text-slate-50 dark:group-hover:text-white",children:a[0].symbol}),(0,n.jsx)("span",{className:"text-sm text-gray-500 dark:text-slate-400 group-hover:dark:text-blue-100",children:a[0].name})]})]}):null,(0,n.jsx)("div",{className:"flex flex-col",children:(0,n.jsx)(j.hg,{asChild:!0,children:(0,n.jsx)(A.zx,{size:"xs",children:"Import"})})})]})}),(0,n.jsxs)(j.cZ,{children:[(0,n.jsx)(j.fK,{children:(null===(s=c)||void 0===s?void 0:s.honeypots)&&0!==c.honeypots.length?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.$N,{children:"Not supported!"}),(0,n.jsxs)(j.Be,{children:[c.honeypots.length>1?"These tokens have been identified as potential honeypot scams and are not supported. Do not interact with these tokens to safeguard your assets.":"This token has been identified as a potential honeypot scam and is not supported. Do not interact with this token to safeguard your assets."," ",(0,n.jsx)(A.zx,{asChild:!0,variant:"link",size:"sm",children:(0,n.jsx)(ee.N,{href:"https://coinbrain.com/dictionary/honeypot-scam",children:"Learn more about honeypot tokens"})})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.$N,{children:"Import token"}),(0,n.jsxs)(j.Be,{children:["Trade at your own risk! ",a.length>1?"These tokens don't":"This token doesn't"," appear on the active token list(s). Anyone can create a token, including creating fake versions of existing tokens that claim to represent projects."]})]})}),(0,n.jsx)("div",{className:"flex flex-col gap-4",children:(null===(r=c)||void 0===r?void 0:r.honeypots)&&0!==c.honeypots.length?(0,n.jsx)(P.a,{className:"!pt-0",children:(0,n.jsx)(P.a.Control,{children:c.honeypots.reduce(((e,t)=>{const s=a.find((e=>{var a;return(null===(a=e)||void 0===a?void 0:a.address)===t}));return s&&e.push((0,n.jsxs)("div",{className:"flex items-center gap-4 py-2 px-4",children:[(0,n.jsx)(R.J,{currency:s,width:40,height:40}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("span",{className:"truncate font-semibold text-gray-900 group-hover:text-gray-900 dark:text-slate-50 group-hover:dark:text-white",children:s.symbol}),(0,n.jsx)("a",{target:"_blank",href:X.Chain.from(s.chainId).getTokenUrl(s.address),className:"flex gap-1 text-sm text-blue font-medium",rel:"noreferrer",children:(0,H.Xn)(s.address)})]})]})),e}),[])})}):(0,n.jsx)(P.a,{className:"!pt-0",children:(0,n.jsx)(P.a.Control,{children:a.reduce(((e,a)=>(a&&e.push((0,n.jsxs)("div",{className:"flex items-center gap-4 py-2 px-4",children:[(0,n.jsx)(R.J,{currency:a,width:40,height:40}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("span",{className:"truncate font-semibold text-gray-900 group-hover:text-gray-900 dark:text-slate-50 group-hover:dark:text-white",children:a.symbol}),(0,n.jsx)("a",{target:"_blank",href:X.Chain.from(a.chainId).getTokenUrl(a.address),className:"flex gap-1 text-sm text-blue font-medium",rel:"noreferrer",children:(0,H.Xn)(a.address)})]})]})),e)),[])})})}),(0,n.jsx)(j.cN,{children:(0,n.jsxs)("div",{className:"flex flex-col gap-3 w-full",children:[(0,n.jsx)(A.zx,{fullWidth:!0,size:"xl",onClick:u,children:(null===(i=c)||void 0===i?void 0:i.honeypots)&&0!==c.honeypots.length?"Close":"I understand"}),(null===(o=c)||void 0===o?void 0:o.isSupported)?(0,n.jsxs)("div",{className:"flex items-center gap-0.5 justify-center",children:[(0,n.jsx)("span",{className:"text-xs text-gray-700 dark:text-slate-400",children:"Honeypot detection powered by GoPlus"}),(0,n.jsx)(ne,{width:22,height:22})]}):null]})})]})]})},re=e=>{let{includeNative:a=!0,id:t,selected:d,onSelect:c,chainId:m,children:v,currencies:f,hidePinnedTokens:y,hideSearch:I}=e;var L,F;const{address:B}=(0,M.mA)(),[W,U]=(0,p.useState)(""),[D,V]=(0,p.useState)(!1),{data:z,mutate:K}=(0,l.Xd)(),{data:Q,mutate:X,hasToken:J}=(0,l.Ko)(),{data:O,isLoading:q}=h({chainId:m}),{data:R,isLoading:Y}=(e=>{let{chainId:a,query:t}=e;const{data:n}=h({chainId:a}),r=(0,u.a)({queryKey:["otherTokenLists",{chainId:a}],queryFn:async()=>(await Promise.all(x.map((e=>fetch(e).then((e=>e.json())))))).map((e=>g.parse(e))).map((e=>e.tokens)).flat(),keepPreviousData:!0,staleTime:9e5,cacheTime:864e5,enabled:Boolean(n&&t&&a&&t.length>2)});return(0,p.useMemo)((()=>{var e;const i=null===(e=t)||void 0===e?void 0:e.toLowerCase();if(!n||!r.data)return{};const l=r.data.reduce(((e,t)=>{let{chainId:r,name:l,symbol:d,address:c,decimals:u}=t;return i&&a===r?(n["".concat(r,":").concat((0,s.Kn)(c))]||(d.toLowerCase().includes(i)||c.toLowerCase().toLowerCase()===i)&&(e["".concat(r,":").concat((0,s.Kn)(c))]=new o.WU({chainId:r,name:l,symbol:d,decimals:u,address:c})),e):e}),{});return{...r,data:l}}),[t,n,r])})({chainId:m,query:W}),{data:H}=(0,b.h)({chainId:m}),{data:$,isLoading:_,refetch:ee}=w({chainId:m,account:B,enabled:D}),ae=(0,p.useMemo)((()=>({...O,...R})),[O,R]),te=(0,p.useMemo)((()=>O?Object.values(O).map((e=>e.wrapped.address)):[]),[O]),{data:ne,isInitialLoading:re}=E({chainId:m,address:W,withStatus:!1,enabled:(0,s.UJ)(W),keepPreviousData:!1}),{data:ie}=Z({query:W,customTokenMap:f?{}:z,tokenMap:f||ae,pricesMap:H,balancesMap:null!==$&&void 0!==$?$:{},chainId:m,includeNative:a}),oe=(0,p.useMemo)((()=>{var e,a;return(null!==(a=null===(e=Q)||void 0===e?void 0:e[m])&&void 0!==a?a:[]).map((e=>{var a,t;const[,n]=e.split(":");return"NATIVE"===n?o._r.onChain(m):(null===(a=ae)||void 0===a?void 0:a[n])||(null===(t=z)||void 0===t?void 0:t[n])})).filter((e=>!!e))}),[Q,ae]),le=(0,p.useCallback)((e=>{c&&c(e),V(!1)}),[c]),de=(0,p.useCallback)((e=>{console.debug("onPin",e,J(e)),J(e)?X("remove",e):X("add",e)}),[]),ce=(0,p.useCallback)((e=>{K("add",[e]),le(e)}),[le,K]);(0,p.useEffect)((()=>{D&&ee()}),[D]);const ue=q||Y||re;return(0,n.jsxs)(j.Vq,{open:D,onOpenChange:V,children:[(0,n.jsx)(j.hg,{asChild:!0,children:v}),(0,n.jsxs)(j.cZ,{className:"!flex flex-col justify-start min-h-[85vh]",children:[(0,n.jsxs)(j.fK,{children:[(0,n.jsx)(j.$N,{children:"Select a token"}),(0,n.jsx)(j.Be,{children:"Select a token from our default list or search for a token by symbol or address."})]}),I?null:(0,n.jsx)("div",{className:"flex gap-2",children:(0,n.jsx)(N.nv,{placeholder:"Search by token or address",icon:i.Z,type:"text","testdata-id":"".concat(t,"-address-input"),value:W,onValueChange:U})}),oe.length>0&&!y?(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:oe.map((e=>(0,n.jsx)("div",{className:"group",children:(0,n.jsxs)(A.zx,{size:"sm",variant:"secondary",className:"group",onClick:()=>le(e),children:[(0,n.jsx)(T.F.Icon,{width:20,height:20,className:(0,A.a2)({size:"default"}),currency:e,disableLink:!0}),e.symbol,(0,n.jsx)(k.h,{size:"xs",name:"remove",icon:r.Z,variant:"ghost",onClick:a=>{a.stopPropagation(),de(e.id)}})]},e.id)},e.id)))}):null,(0,n.jsxs)(P.a.Control,{className:"relative flex flex-1 flex-col flex-grow gap-3 px-1 py-0.5 min-h-[128px]",children:[(0,n.jsx)("div",{"data-state":ue?"active":"inactive",className:C()("data-[state=active]:block data-[state=active]:flex-1 data-[state=inactive]:hidden","py-0.5 h-[64px] -mb-3"),children:(0,n.jsx)("div",{className:"flex items-center w-full h-full px-3 rounded-lg",children:(0,n.jsxs)("div",{className:"flex items-center justify-between flex-grow gap-2 rounded",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center flex-grow gap-4",children:[(0,n.jsx)(S.s7,{radius:40}),(0,n.jsxs)("div",{className:"flex flex-col items-start",children:[(0,n.jsx)(S.N2,{className:"w-full w-[100px]"}),(0,n.jsx)(S.N2,{fontSize:"sm",className:"w-full w-[60px]"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col w-full",children:[(0,n.jsx)(S.N2,{className:"w-[80px]"}),(0,n.jsx)(S.N2,{fontSize:"sm",align:"right",className:"w-[40px]"})]})]})})}),(0,n.jsxs)("div",{"data-state":ue?"inactive":"active",className:C()("data-[state=active]:block data-[state=active]:flex-1 data-[state=inactive]:hidden"),children:[ne&&!z["".concat(ne.chainId,":").concat(ne.wrapped.address)]&&!(null===(L=ae)||void 0===L?void 0:L["".concat(ne.wrapped.address)])&&(0,n.jsx)(se,{currencies:[ne],onImport:()=>ne&&ce(ne)}),(0,n.jsx)(G,{selected:d,onSelect:le,id:t,pin:{onPin:de,isPinned:J},officialTokenIds:te,currencies:ie,chainId:m,balancesMap:null!==$&&void 0!==$?$:{},pricesMap:H,isBalanceLoading:_}),0===(null===(F=ie)||void 0===F?void 0:F.length)&&!ne&&m&&(0,n.jsx)("span",{className:"h-10 flex items-center justify-center text-center text-sm text-gray-500 dark:text-slate-500",children:"No results found."})]})]})]})]})}},76683:function(e,a,t){t.d(a,{H:function(){return C}});var n=t(97458),s=t(89714),r=t(92073),i=t(99454),o=t(87608),l=t.n(o),d=t(35915),c=t(806),u=t(31767),m=t(77041),h=t(52983),p=t(13697),x=t(14852),v=t(75851),f=t(8658);var g=t(34535);const b=e=>(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",...e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M15.6 4.6H1.85v-.55l12.1-.968v.968h1.65V2.4c0-1.21-.98-2.059-2.177-1.888L2.378 2.089C1.18 2.26.2 3.39.2 4.6v11a2.2 2.2 0 002.2 2.2h13.2a2.2 2.2 0 002.2-2.2V6.8a2.2 2.2 0 00-2.2-2.2zm-1.65 7.707a1.65 1.65 0 01-.63-3.176 1.65 1.65 0 11.63 3.176z"})}),y=10n**16n,w=(0,h.memo)((function(e){let{id:a,balance:t,onChange:r,disableMaxButton:i,loading:o,type:d}=e;var c;const[u,p]=(t?"".concat(null===(c=t)||void 0===c?void 0:c.toSignificant(6)):"0.00").split("."),x=(0,h.useCallback)((()=>{var e;if(r&&(null===(e=t)||void 0===e?void 0:e.greaterThan(0)))if(t.currency.isNative&&t.greaterThan(y)){const e=s.$d.fromRawAmount(s._r.onChain(t.currency.chainId),y);r(t.subtract(e).toFixed())}else{var a;r((null===(a=t)||void 0===a?void 0:a.greaterThan(0))?t.toFixed():"")}}),[t,r]);return o?(0,n.jsx)("div",{className:"w-[60px] flex items-center",children:(0,n.jsx)(m.N2,{fontSize:"lg",className:"w-full"})}):(0,n.jsxs)("button",{id:"".concat(a,"-balance-button"),"testdata-id":"".concat(a,"-balance-button"),type:"button",onClick:x,className:l()("INPUT"===d?"text-blue hover:text-blue-600 active:text-blue-700 hover:dark:text-slate-300":"text-gray-500 dark:text-slate-500","font-medium flex gap-1.5 items-center py-1 dark:text-slate-400 px-2 rounded-md"),disabled:i,children:[(0,n.jsx)(b,{width:18,height:18}),(0,n.jsxs)("span",{className:"text-lg",children:[u,".",(0,n.jsx)("span",{className:"text-sm font-semibold",children:null!==p&&void 0!==p?p:"00"})]})]})}));var j=t(31085);const N=e=>{let{loading:a,price:t,currency:r,value:i,usdPctChange:o,error:d}=e;var c,u,p,x,v;const f=(0,h.useMemo)((()=>(0,s.eo)(i,r)),[r,i]),[g,b]=(f&&t?"".concat(f.multiply(t.asFraction).toFixed(2)):"0.00").split(".");return a?(0,n.jsx)("div",{className:"w-1/5 flex items-center",children:(0,n.jsx)(m.N2,{fontSize:"lg",className:"w-full"})}):d?(0,n.jsx)("p",{className:"font-medium text-lg py-1 select-none text-red",children:d}):(0,n.jsxs)("p",{className:"font-medium text-lg flex items-baseline select-none text-gray-500 dark:text-slate-400",children:[!a&&(null===(c=t)||void 0===c?void 0:c.equalTo(j.xE))?(0,n.jsx)("span",{className:"text-sm flex items-center",children:"Price not available"}):(0,n.jsxs)(n.Fragment,{children:["$ ",g,".",(0,n.jsx)("span",{className:"text-sm font-semibold",children:b})]}),!(!a&&(null===(u=t)||void 0===u?void 0:u.equalTo(j.xE)))&&o&&0!==o&&(0,n.jsxs)("span",{className:l()("text-sm pl-1",o>0?"text-green":o<-5?"text-red":o<-3?"text-yellow":"text-slate-500"),children:[" ","".concat("0.00"===(null===(p=o)||void 0===p?void 0:p.toFixed(2))?"":o>0?"(+":"(").concat("0.00"===(null===(x=o)||void 0===x?void 0:x.toFixed(2))?"":"".concat(null===(v=o)||void 0===v?void 0:v.toFixed(2),"%)"))]})]})};var k=t(16275);function I(e,a){const{data:t}=(0,p.S4)({name:"".concat(e.value),chainId:k.ChainId.ETHEREUM,enabled:Boolean(e.value&&"string"===typeof e.value&&e.value.length>2)});return(0,h.useEffect)((()=>{"string"===typeof t&&e.onValueChange&&e.onValueChange(t)}),[t,e.onValueChange]),(0,n.jsx)(c.nv,{...e,type:"text",ref:a})}const C={Currency:e=>{let{id:a,disabled:t,value:o,onChange:b,currency:y,onSelect:j,chainId:k,className:I,loading:C,usdPctChange:A,disableMaxButton:T=!1,type:P,currencyLoading:S,currencies:M,allowNative:L=!0,error:F,hidePinnedTokens:E=!1,hideSearch:B=!1,fetching:W}=e;var U,D,Z,V,z;const[K,Q]=(0,h.useState)(""),{address:X}=(0,p.mA)(),[J,O]=(0,h.useTransition)(),q=(0,h.useRef)(null),R=(0,h.useCallback)((()=>{var e;t||null===(e=q.current)||void 0===e||e.focus()}),[t]),{data:Y,isInitialLoading:G}=(e=>{let{chainId:a,currency:t,account:n,enabled:s=!0}=e;return(0,v.a)({queryKey:["useBalance",{chainId:a,currency:t,account:n}],queryFn:async()=>{var e,s;return t&&null!==(s=null===(e=await(0,f.r)({chainId:a,currencies:[t],account:n}))||void 0===e?void 0:e[t.isNative?x.d:t.wrapped.address])&&void 0!==s?s:null},refetchInterval:1e4,enabled:Boolean(a&&n&&s)})})({chainId:k,account:X,currency:y}),{data:H,isInitialLoading:$}=(0,r.k)({chainId:null===(U=y)||void 0===U?void 0:U.chainId,address:null===(Z=y)||void 0===Z||null===(D=Z.wrapped)||void 0===D?void 0:D.address}),_=(0,h.useMemo)((()=>(0,s.eo)(o,y)),[o,y]),ee=X&&"INPUT"===P&&Y&&_&&Y.lessThan(_);(0,h.useEffect)((()=>{if(y&&b&&o&&o.includes(".")){const[,e]=o.split(".");e.length>y.decimals&&b((+o).toFixed(y.decimals))}}),[y]);const ae=C||S||G,te=F||(ee?"Exceeds Balance":void 0),ne=(0,h.useCallback)((e=>{Q(e),O((()=>{var a;null===(a=b)||void 0===a||a(e)}))}),[b]);(0,h.useEffect)((()=>{var e;y&&k&&(null===(e=y)||void 0===e?void 0:e.chainId)!==k&&console.error("Selected token chainId not equal to passed chainId, impossible state. Currency chainId: ".concat(y.chainId,", chainId: ").concat(k))}),[null===(V=y)||void 0===V?void 0:V.chainId,k]);const se=(0,h.useMemo)((()=>j?(0,n.jsx)(g.k,{id:"".concat(a,"-token-selector"),currencies:M,selected:y,chainId:k,onSelect:j,includeNative:L,hidePinnedTokens:E,hideSearch:B,children:(0,n.jsx)(i.zx,{"data-state":ae?"inactive":"active",size:"lg",variant:y?"secondary":"default",id:a,type:"button",className:l()(y?"pl-2 pr-3 text-xl":"","!rounded-full data-[state=inactive]:hidden data-[state=active]:flex"),children:y?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-[28px] h-[28px] mr-0.5",children:(0,n.jsx)(u.F.Icon,{disableLink:!0,currency:y,width:28,height:28})}),y.symbol,(0,n.jsx)(d.GV,{})]}):"Select token"})}):null),[ae,a,j,M,y,k,L,E,B]);return(0,n.jsxs)("div",{onClick:R,className:l()(te?"!bg-red-500/20 !dark:bg-red-900/30":"","relative space-y-2 overflow-hidden pb-2",I),children:[(0,n.jsx)("div",{"data-state":W?"active":"inactive",className:"transition-all data-[state=inactive]:hidden data-[state=active]:block absolute inset-0 overflow-hidden p-4 before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_.5s_infinite] before:bg-gradient-to-r before:from-transparent dark:before:via-slate-50/10 before:via-gray-900/[0.07] before:to-transparent"}),(0,n.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,n.jsxs)("div",{"data-state":ae?"active":"inactive",className:l()("data-[state=inactive]:hidden data-[state=active]:flex","gap-4 items-center justify-between flex-grow h-[44px]"),children:[(0,n.jsx)(m.nN,{className:"w-2/3 h-[32px] rounded-lg"}),(0,n.jsx)(m.nN,{className:"w-1/3 h-[32px] rounded-lg"})]}),(0,n.jsx)("div",{"data-state":ae?"inactive":"active",className:"data-[state=inactive]:hidden data-[state=active]:flex flex-1 items-center",children:(0,n.jsx)(c.nv,{"testdata-id":"".concat(a,"-input"),type:"number",ref:q,variant:"naked",disabled:t,onValueChange:ne,value:J?K:o,readOnly:t,maxDecimals:null===(z=y)||void 0===z?void 0:z.decimals,"data-state":ae?"inactive":"active",className:l()("p-0 py-1 !text-3xl font-medium")})}),se,j?null:(0,n.jsx)("div",{id:"".concat(a,"-button"),className:l()("flex items-center gap-1 text-xl py-2 pl-2 pr-2 rounded-full font-medium whitespace-nowrap"),children:y?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-[28px] h-[28px] mr-0.5",children:(0,n.jsx)(u.F.Icon,{disableLink:!0,currency:y,width:28,height:28})}),y.symbol]}):(0,n.jsx)("span",{className:"text-gray-400 dark:text-slate-500",children:"No token selected"})})]}),(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between h-[36px]",children:[(0,n.jsx)(N,{value:o,currency:y,usdPctChange:A,error:te,loading:$,price:H}),(0,n.jsx)(w,{id:a,loading:G,chainId:k,account:X,onChange:b,currency:y,disableMaxButton:T,balance:Y,type:P})]})]})},Ens:(0,h.forwardRef)(I)}},90460:function(e,a,t){t.d(a,{K:function(){return p}});var n=t(54266),s=t(14852),r=t(26246),i=t(56574),o=t(16275),l=t(89714),d=t(27557),c=t(52983),u=t(13697),m=t(91824),h=t(50177);const p=e=>{let{watch:a=!0,chainId:t,account:p,currency:x,enabled:v=!0,loadBentobox:f=!1}=e;const g=(0,c.useMemo)((()=>[x]),[x]),{data:b,isLoading:y,isError:w}=(e=>{let{watch:a=!0,enabled:t=!0,chainId:p,account:x,currencies:v,loadBentobox:f=!1}=e;var g;const{data:b,isLoading:y,isError:w}=(0,u.KQ)({address:x,chainId:p,enabled:t,watch:!("undefined"!==typeof t&&!t)&&a}),[j,N]=(0,c.useMemo)((()=>v.reduce(((e,a)=>(p&&a&&(0,n.UJ)(a.wrapped.address)&&(e[0].push(a.wrapped),e[1].push(a.wrapped.address)),e)),[[],[]])),[p,v]),k=(0,c.useMemo)((()=>{if(!x)return[];const e=N.map((e=>({chainId:p,address:e,abi:m.em,functionName:"balanceOf",args:[x]})));if(f&&p){if(!(0,i.Os)(p))throw new Error("ChainId Error: BentoBox is not available on ".concat(o.chainName[p]," and loadBentobox is enabled."));const a=N.map((e=>({chainId:p,...(0,h.o)(p),abi:r.Km,functionName:"totals",args:[e]}))),t=N.map(((e,a)=>({chainId:p,...(0,h.o)(p),abi:r.Km,functionName:"balanceOf",args:[N[a],x]})));return[...e,...a,...t]}return e}),[N,f,p,x]),{data:I,isError:C,isLoading:A}=(0,u.Dm)({contracts:k,enabled:t,watch:!("undefined"!==typeof t&&!t)&&a}),T=(0,c.useMemo)((()=>{var e;const a={};if((null===(e=I)||void 0===e?void 0:e.length)!==k.length)return a;for(let n=0;n<N.length;n++){var t;if(f){const{base:e,elastic:t}=I[n+N.length].result;if(e&&t&&I[n+2*N.length].result){const s={base:e,elastic:t},r=l.$d.fromShare(j[n],I[n+2*N.length].result,s);a[j[n].address]={[d.W$.BENTOBOX]:r.greaterThan(0n)?r:l.$d.fromRawAmount(j[n],"0"),[d.W$.WALLET]:l.$d.fromRawAmount(j[n],"0")}}else a[j[n].address]={[d.W$.BENTOBOX]:l.$d.fromRawAmount(j[n],"0"),[d.W$.WALLET]:l.$d.fromRawAmount(j[n],"0")}}const e=null===(t=I[n])||void 0===t?void 0:t.result,s=null!==e&&void 0!==e?e:void 0;a[j[n].address]||(a[j[n].address]={[d.W$.BENTOBOX]:l.$d.fromRawAmount(j[n],"0"),[d.W$.WALLET]:l.$d.fromRawAmount(j[n],"0")}),a[j[n].address][d.W$.WALLET]=s?l.$d.fromRawAmount(j[n],s):l.$d.fromRawAmount(j[n],"0")}return a}),[k.length,I,f,N.length,j]);return(0,c.useMemo)((()=>{var e;return T[s.d]={[d.W$.WALLET]:p&&(null===(e=b)||void 0===e?void 0:e.value)?l.$d.fromRawAmount(l._r.onChain(p),b.value.toString()):void 0,[d.W$.BENTOBOX]:p&&T[l._r.onChain(p).wrapped.address]?T[l._r.onChain(p).wrapped.address][d.W$.BENTOBOX]:void 0},{data:T,isLoading:A||y,isError:C||w}}),[T,p,null===(g=b)||void 0===g?void 0:g.value,A,y,C,w])})({watch:a,chainId:t,currencies:g,account:p,enabled:v,loadBentobox:f});return(0,c.useMemo)((()=>{var e,a,t,n;const r=x?null===(a=b)||void 0===a||null===(e=a[x.isNative?s.d:x.wrapped.address])||void 0===e?void 0:e[d.W$.WALLET]:void 0,i=x?null===(n=b)||void 0===n||null===(t=n[x.isNative?s.d:x.wrapped.address])||void 0===t?void 0:t[d.W$.BENTOBOX]:void 0;return{isError:w,isLoading:y,data:r&&i?{[d.W$.WALLET]:r,[d.W$.BENTOBOX]:i}:void 0}}),[w,y,x,b])}},51200:function(e,a,t){t.d(a,{_:function(){return i},x:function(){return o}});var n=t(56574),s=t(52983),r=t(13697);const i=(e,a,t)=>{var i,o;const l=(0,s.useMemo)((()=>a.filter((e=>{var a;return Boolean(null===(a=e)||void 0===a?void 0:a.wrapped)})).map((e=>e.wrapped.address))),[a]),d=(0,s.useMemo)((()=>e?l.map((a=>({chainId:e,address:n.OI[e],abi:[{inputs:[{internalType:"contract IERC20",name:"",type:"address"}],name:"totals",outputs:[{internalType:"uint128",name:"elastic",type:"uint128"},{internalType:"uint128",name:"base",type:"uint128"}],stateMutability:"view",type:"function"}],functionName:"totals",args:[a]}))):void 0),[l,e]),{data:c}=(0,r.Dm)({contracts:d,watch:!("undefined"!==typeof(null===(i=t)||void 0===i?void 0:i.enabled)&&!(null===(o=t)||void 0===o?void 0:o.enabled)),keepPreviousData:!0,enabled:!!e,select:e=>e.map((e=>e.result))});return(0,s.useMemo)((()=>{var e;return null===(e=c)||void 0===e?void 0:e.reduce(((e,a,t)=>{if(!a)return e;const[n,s]=a;return e[l[t]]={elastic:n,base:s},e}),{})}),[c,l])},o=(e,a,t)=>{const n=i(e,(0,s.useMemo)((()=>[a]),[a]),t);return(0,s.useMemo)((()=>{if(n&&a)return n[a.wrapped.address]}),[a,n])}}}]);
//# sourceMappingURL=897-f7ce339cc91a9e90.js.map