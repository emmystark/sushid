(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1203],{86743:function(e,t,n){Promise.resolve().then(n.bind(n,11571)),Promise.resolve().then(n.bind(n,76027)),Promise.resolve().then(n.bind(n,78722)),Promise.resolve().then(n.bind(n,192)),Promise.resolve().then(n.bind(n,93382)),Promise.resolve().then(n.bind(n,71682)),Promise.resolve().then(n.bind(n,19386)),Promise.resolve().then(n.bind(n,38606)),Promise.resolve().then(n.bind(n,51539)),Promise.resolve().then(n.bind(n,33999)),Promise.resolve().then(n.bind(n,83297)),Promise.resolve().then(n.bind(n,76316)),Promise.resolve().then(n.bind(n,78638)),Promise.resolve().then(n.t.bind(n,70060,23)),Promise.resolve().then(n.t.bind(n,27612,23)),Promise.resolve().then(n.bind(n,56122)),Promise.resolve().then(n.bind(n,49372)),Promise.resolve().then(n.bind(n,22236)),Promise.resolve().then(n.bind(n,10418)),Promise.resolve().then(n.bind(n,36354)),Promise.resolve().then(n.bind(n,94143)),Promise.resolve().then(n.bind(n,37900)),Promise.resolve().then(n.bind(n,63461)),Promise.resolve().then(n.bind(n,68154)),Promise.resolve().then(n.bind(n,28132)),Promise.resolve().then(n.bind(n,36603)),Promise.resolve().then(n.bind(n,19901)),Promise.resolve().then(n.bind(n,90613)),Promise.resolve().then(n.bind(n,16761)),Promise.resolve().then(n.bind(n,1620)),Promise.resolve().then(n.bind(n,61893)),Promise.resolve().then(n.bind(n,82381)),Promise.resolve().then(n.bind(n,36704)),Promise.resolve().then(n.bind(n,29262)),Promise.resolve().then(n.bind(n,79721)),Promise.resolve().then(n.bind(n,20247)),Promise.resolve().then(n.bind(n,55687)),Promise.resolve().then(n.bind(n,47706)),Promise.resolve().then(n.bind(n,26820)),Promise.resolve().then(n.bind(n,21558)),Promise.resolve().then(n.bind(n,26654)),Promise.resolve().then(n.bind(n,14210)),Promise.resolve().then(n.bind(n,25503)),Promise.resolve().then(n.bind(n,36987)),Promise.resolve().then(n.bind(n,42602)),Promise.resolve().then(n.bind(n,29167)),Promise.resolve().then(n.bind(n,98282)),Promise.resolve().then(n.bind(n,9675)),Promise.resolve().then(n.bind(n,90305)),Promise.resolve().then(n.bind(n,78483)),Promise.resolve().then(n.bind(n,3413)),Promise.resolve().then(n.bind(n,6969)),Promise.resolve().then(n.bind(n,83492)),Promise.resolve().then(n.bind(n,55848)),Promise.resolve().then(n.bind(n,14461)),Promise.resolve().then(n.bind(n,72979)),Promise.resolve().then(n.bind(n,888)),Promise.resolve().then(n.bind(n,3774))},49980:function(e,t,n){"use strict";n.d(t,{Hx:function(){return w},E:function(){return a},iU:function(){return s},sZ:function(){return f},E$:function(){return p},I:function(){return j},dG:function(){return T},yH:function(){return A},a:function(){return k},Cr:function(){return b},Pg:function(){return y},pS:function(){return g}});var i,r,a,s,o=n(35109),l=n(94522),d=n(91331),u=n(57536),c=n(22335),h=n(95799),m=n(95925),v=n(55926),x=n(69057);let g={[c.ChainId.ETHEREUM]:!0,[c.ChainId.BSC]:!0,[c.ChainId.AVALANCHE]:!0,[c.ChainId.POLYGON]:!0,[c.ChainId.ARBITRUM]:!0,[c.ChainId.OPTIMISM]:!0,[c.ChainId.BASE]:!0,[c.ChainId.FANTOM]:!0,[c.ChainId.LINEA]:!0,[c.ChainId.KAVA]:!0,[c.ChainId.MOONBEAM]:!1,[c.ChainId.CELO]:!0,[c.ChainId.SCROLL]:!0,[c.ChainId.FILECOIN]:!0},p=e=>{let{srcBridgeToken:t,callData:n}=e;return(0,o.E)((0,l.n)("address, bytes"),[t.address,n])},f=e=>(0,m.p)({abi:u.squidRouterAbi,data:e}),b=e=>{let{token0:t,token1:n,amount:i,fromAddress:r=v.D,toAddress:a=v.D,bridgePath:s,slippagePercentage:o,isSrcSwap:l,isDstSwap:c,srcTrade:m,dstTrade:p}=e;if(!t||!n||!i||!s)return;let f=!!(l&&g[t.chainId]),b=!!(c&&g[n.chainId]&&(!l||(null==m?void 0:m.amountOut)));if(f&&!(null==m?void 0:m.writeArgs)||b&&!p)return;let{srcBridgeToken:S,dstBridgeToken:w}=s,j={fromAddress:r,toAddress:a,fromChain:t.chainId.toString(),toChain:n.chainId.toString(),fromToken:f?S.address:t.isNative?"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE":t.address,toToken:b?w.address:n.isNative?"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE":n.address,fromAmount:f?m.minAmountOut.quotient.toString():i.quotient.toString(),slippageConfig:{slippage:Number(o),autoMode:1},prefer:[d.DexName.SUSHISWAP_V3,d.DexName.SUSHISWAP],quoteOnly:!r||!a};if(b&&(null==p?void 0:p.writeArgs)){var A,y,k;let e=h.ROUTE_PROCESSOR_4_ADDRESS[n.chainId];if(void 0===e)throw Error("RP not found");j.postHook={chainType:d.ChainType.EVM,calls:[{chainType:d.ChainType.EVM,callType:d.SquidCallType.FULL_TOKEN_BALANCE,target:w.address,callData:(0,x.R)({abi:u.erc20Abi,functionName:"transfer",args:[e,0n]}),value:"0",payload:{tokenAddress:w.address,inputPos:1},estimatedGas:"30000"},{chainType:d.ChainType.EVM,callType:d.SquidCallType.DEFAULT,target:e,callData:(0,x.R)({abi:u.routeProcessor4Abi,functionName:"processRoute",args:null==p?void 0:p.writeArgs}),value:"0",payload:{tokenAddress:v.D,inputPos:0},estimatedGas:(1.2*(null==p?void 0:null===(A=p.route)||void 0===A?void 0:A.gasSpent)+2e4).toString()}],description:"Swap ".concat(null==p?void 0:null===(y=p.amountIn)||void 0===y?void 0:y.currency.symbol," -> ").concat(null==p?void 0:null===(k=p.amountOut)||void 0===k?void 0:k.currency.symbol," on RouteProcessor")}}return j};var S=n(53003);let w=new(n(79436)).Percent(100,1e4),j=e=>{let{srcBridgeToken:t,dstBridgeToken:n,amount:i,amountMin:r,dustAmount:a,receiver:s,to:d,dstGas:u}=e;return(0,o.E)((0,l.n)("uint16, address, uint256, uint256, uint256, uint256, uint256, address, address, uint256"),[h.STARGATE_CHAIN_ID[n.chainId],t.isNative?"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE":t.address,BigInt(h.STARGATE_POOL_ID[t.chainId][t.isNative?h.STARGATE_ETH_ADDRESS[t.chainId]:t.address]),BigInt(h.STARGATE_POOL_ID[n.chainId][n.isNative?h.STARGATE_ETH_ADDRESS[n.chainId]:n.address]),BigInt(i),BigInt(r),BigInt(a),s,d,BigInt(u)])},A=e=>BigInt(Math.floor(1.25*e)+15e4),y=(e,t)=>{if(!(0,h.isStargateAdapterChainId)(e.chainId)||!(0,h.isStargateAdapterChainId)(t.chainId))return;let n=h.STARGATE_CHAIN_PATHS[e.chainId];if(e.isNative&&e.chainId in h.STARGATE_ETH_ADDRESS&&n[h.STARGATE_ETH_ADDRESS[e.chainId]].find(e=>e.chainId===t.chainId))return{srcBridgeToken:e,dstBridgeToken:S.Native.onChain(t.chainId)};if(e.chainId in h.STARGATE_USDC_ADDRESS||e.chainId in h.STARGATE_USDT_ADDRESS){let i=e.chainId in h.STARGATE_USDC?h.STARGATE_USDC[e.chainId]:h.STARGATE_USDT[e.chainId],r=n[i.address].find(e=>e.chainId===t.chainId);if(r)return{srcBridgeToken:i,dstBridgeToken:r}}};(i=a||(a={}))[i.Stargate=0]="Stargate",i[i.Squid=1]="Squid",(r=s||(s={}))[r.Bridge=0]="Bridge",r[r.SwapAndBridge=1]="SwapAndBridge",r[r.BridgeAndSwap=2]="BridgeAndSwap",r[r.CrossChainSwap=3]="CrossChainSwap";let k=e=>{let{refId:t="0x0000",adapter:n,amountIn:i,to:r,adapterData:a}=e;return{refId:t,adapter:n,tokenIn:i.currency.isNative?"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE":i.currency.address,amountIn:i.quotient.toString(),to:r,adapterData:a}};function T(e){let[t,n,i,r,a,s]=e;return(0,o.E)((0,l.n)("(address tokenIn, uint256 amountIn, address tokenOut, uint256 amountOut, address to, bytes route)"),[{tokenIn:t,amountIn:n,tokenOut:i,amountOut:r,to:a,route:s}])}},21077:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var i=n(21322),r=n(95799);let a=()=>(0,i.a)({queryKey:["squid"],queryFn:async()=>{let e=new(await Promise.all([n.e(3884),n.e(7877),n.e(1943),n.e(8121),n.e(1936),n.e(864),n.e(6242),n.e(5652)]).then(n.t.bind(n,32123,23)).then(e=>e.Squid))({baseUrl:"https://apiplus.squidrouter.com/",integratorId:r.SquidIntegratorId});return await e.init(),e},refetchInterval:1/0})},84904:function(e,t,n){"use strict";n.d(t,{d4:function(){return d},oX:function(){return l}});var i=n(79436);let r=new i.Percent(100,10000n),a=new i.Percent(300,10000n),s=new i.Percent(500,10000n),o=[new i.Percent(1500,10000n),s,a,r];function l(e){if(!e)return 0;let t=o.length;for(let n of o){if(n.lessThan(e))return t;t--}return 0}let d=e=>0===e?"":e<1?"!text-green":e<2?"!text-yellow":e<3?"!text-yellow-700":"!text-red"},11571:function(e,t,n){"use strict";n.d(t,{EdgeProvider:function(){return d},R:function(){return l}});var i=n(13898),r=n(6520),a=n.n(r),s=n(73620);let o=a()(()=>(0,s.createContext)(null)),l=()=>{let e=(0,s.useContext)(o());if(!e)throw Error("useEdgeConfig must be used within a EdgeConfigProvider");return e},d=e=>{let{config:t,children:n}=e,r=o();return(0,i.jsx)(r.Provider,{value:t,children:n})}},74090:function(e,t,n){"use strict";n.r(t),n.d(t,{PathnameButton:function(){return s}});var i=n(13898),r=n(73612),a=n(67852);let s=(0,n(73620).forwardRef)((e,t)=>{let{pathname:n,...s}=e,o=(0,a.usePathname)();return(0,i.jsx)(r.zx,{...s,ref:t,variant:o===n||o===n.replace("%3A",":")?"secondary":"ghost"})});s.displayName="PathnameButton"},76027:function(e,t,n){"use strict";n.d(t,{CrossChainBanner:function(){return v}});var i=n(13898),r=n(19828),a=n(49372),s=n(70425),o=n(39785),l=n(3413),d=n(92578),u=n(45990),c=n(63269),h=n(67852),m=n(73620);let v=()=>{let[e,t]=(0,a.useLocalStorage)("xswap-banner-minimized",!1),n=(0,h.usePathname)(),[,v]=(0,m.useTransition)(),[x,g]=(0,m.useState)("/swap/cross-chain"===n),{push:p}=(0,h.useRouter)(),f=(0,m.useCallback)(e=>{g(e),setTimeout(()=>{v(()=>{e?p("/swap/cross-chain"):p("/swap")})},100)},[p]);return(0,i.jsx)(u.M,{mode:"popLayout",children:e?null:(0,i.jsx)(c.E.div,{layout:!0,layoutId:"container",children:(0,i.jsxs)(s.Zb,{className:"bg-gradient-to-r from-blue/20 to-pink/20",children:[(0,i.jsxs)(s.Ol,{children:[(0,i.jsx)(s.ll,{children:(0,i.jsx)(c.E.div,{layoutId:"title",children:(0,i.jsxs)("span",{className:"text-base tracking-tighter saturate-200 flex items-center gap-2 bg-gradient-to-r from-blue to-pink bg-clip-text text-transparent",children:[(0,i.jsx)(o.j,{width:20,height:20,className:"text-blue"}),"Cross-chain Swap"]})})}),(0,i.jsxs)(s.SZ,{children:["Swap tokens natively across 14 chains including Ethereum, Arbitrum, Optimism, Polygon, Base and more!"," ",(0,i.jsx)("a",{target:"_blank",className:"text-blue hover:underline",href:"https://www.sushi.com/blog/sushixswap-v2",rel:"noreferrer",children:"Learn more."})]})]}),(0,i.jsx)(s.aY,{children:(0,i.jsx)(l.Switch,{checked:x,onCheckedChange:f})}),(0,i.jsx)("div",{className:"absolute right-2 top-2",children:(0,i.jsx)(d.h,{icon:r.Z,name:"minimize",onClick:()=>t(!0),size:"xs"})})]})})})}},78722:function(e,t,n){"use strict";n.d(t,{CrossChainSwapHeader:function(){return v}});var i=n(13898),r=n(47906),a=n(7027),s=n(98659),o=n(73612),l=n(5912),d=n(73620),u=n(82562),c=n(53003),h=n(99119),m=n(76316);let v=()=>{let[e,t]=(0,d.useState)(!1),{state:{chainId0:n,chainId1:v,token0:x,token1:g},isLoading:p}=(0,m.w)(),f=(0,d.useMemo)(()=>[[(0,c.tryParseAmount)("1",x)],[(0,c.tryParseAmount)("1",g)]],[x,g]),[b]=(0,u.Mu)({chainId:n,amounts:f[0]}),[S]=(0,u.Mu)({chainId:v,amounts:f[1]}),{data:w}=(0,a.h1)({chainId:n}),{data:j}=(0,a.h1)({chainId:v}),A=(0,d.useMemo)(()=>{var t,n;let i;if(!x||!g)return"0.00";let r=new c.Token({address:x.wrapped.address,chainId:1,decimals:x.decimals}),a=new c.Token({address:g.wrapped.address,chainId:1,decimals:g.decimals}),s=(null==w?void 0:w[x.wrapped.address])?null===(t=(0,c.tryParseAmount)("1",x))||void 0===t?void 0:t.multiply(w[x.wrapped.address]):void 0,o=(null==j?void 0:j[g.wrapped.address])?null===(n=(0,c.tryParseAmount)("1",g))||void 0===n?void 0:n.multiply(j[g.wrapped.address]):void 0;return s&&o&&(i=new c.Price({baseAmount:c.Amount.fromRawAmount(r,s.quotient.toString()),quoteAmount:c.Amount.fromRawAmount(a,o.quotient.toString())})),i?e?i.invert().toSignificant(4):i.toSignificant(4):"0.00"},[e,w,j,x,g]);return(0,i.jsxs)("div",{className:"flex flex-col items-start gap-2 mb-4 sm:mt-10 mt-2",children:[(0,i.jsx)("h1",{className:(0,s.o)({variant:"h1"}),children:"Trade"}),!p&&x&&g?(0,i.jsxs)(o.zx,{variant:"link",size:"sm",onClick:()=>t(e=>!e),children:[(0,i.jsx)(r.Z,{width:16,height:16}),(0,i.jsxs)("span",{className:"flex items-baseline gap-1 whitespace-nowrap scroll hide-scrollbar",children:["1 ",e?x.symbol:g.symbol," ",(0,i.jsxs)("span",{className:"font-normal",children:["(",(0,h.formatUSD)(e?b:S),")"]})," ","= ",A," ",e?g.symbol:x.symbol," ",(0,i.jsxs)("span",{className:"font-normal",children:["(",(0,h.formatUSD)(e?S:b),")"]})]})]}):(0,i.jsx)(l.N2,{fontSize:"sm",className:"w-2/4"})]})}},192:function(e,t,n){"use strict";n.d(t,{CrossChainSwapMaintenanceMessage:function(){return s}});var i=n(13898),r=n(2321),a=n(89917);let s=()=>{let{data:e}=(0,a.f)();return e?(0,i.jsx)(r.v,{variant:"warning",size:"sm",className:"text-center font-medium",children:"Cross-chain swaps are currently undergoing maintenance. Please check back later."}):(0,i.jsx)(i.Fragment,{})}},93382:function(e,t,n){"use strict";n.d(t,{CrossChainSwapSettingsOverlay:function(){return a}});var i=n(13898),r=n(90305);let a=()=>(0,i.jsx)(r.SettingsOverlay,{modules:[r.SettingsModule.SlippageTolerance]})},71682:function(e,t,n){"use strict";n.d(t,{CrossChainSwapSwitchTokensButton:function(){return o}});var i=n(13898),r=n(87655),a=n.n(r),s=n(76316);let o=()=>{let{mutate:{switchTokens:e}}=(0,s.w)();return(0,i.jsx)("div",{className:"left-0 right-0 lg:mt-[-26px] lg:mb-[-26px] flex items-center justify-center",children:(0,i.jsx)("button",{onClick:e,type:"button",className:"hover:shadow-sm transition-border z-10 group bg-background p-2 border border-accent transition-all rounded-full cursor-pointer",children:(0,i.jsx)("div",{className:"transition-transform rotate-0 group-hover:rotate-180",children:(0,i.jsx)(a(),{strokeWidth:3,className:"w-4 h-4 lg:w-3 lg:h-3 text-blue"})})})})}},19386:function(e,t,n){"use strict";n.d(t,{CrossChainSwapTokenNotFoundDialog:function(){return f}});var i=n(13898),r=n(49372),a=n(7027),s=n(61893),o=n(89866),l=n(2321),d=n(73612),u=n(41415),c=n(8783),h=n(70312),m=n(73620),v=n(22335),x=n(95799),g=n(99119),p=n(76316);let f=()=>{var e,t,n,f,b,S,w,j,A,y;let{state:{chainId0:k,chainId1:T,token0:E,token1:I},mutate:{setToken0:N,setToken1:C,setTokens:P}}=(0,p.w)(),{mutate:R,hasToken:D}=(0,r.useCustomTokens)(),{data:_,isInitialLoading:O}=(0,h.Eyd)({chainId:k,address:null==E?void 0:E.wrapped.address,withStatus:!0}),{data:B,isInitialLoading:q}=(0,h.Eyd)({chainId:T,address:null==I?void 0:I.wrapped.address,withStatus:!0}),F=!!((null==_?void 0:_.status)!=="APPROVED"&&(null==_?void 0:_.token)&&!D(null==_?void 0:_.token)),L=!!((null==B?void 0:B.status)!=="APPROVED"&&(null==B?void 0:B.token)&&!D(null==B?void 0:B.token)),H=(0,m.useCallback)(e=>{let[t,n]=e,i=[];(null==_?void 0:_.status)!=="APPROVED"&&t&&i.push(t),(null==B?void 0:B.status)!=="APPROVED"&&n&&i.push(n),R("add",i),t&&N(t),n&&C(n)},[R,N,C,null==_?void 0:_.status,null==B?void 0:B.status]),U=(0,m.useCallback)(()=>{P(x.defaultCurrency[k],x.defaultQuoteCurrency[T])},[k,T,P]),{data:M,isInitialLoading:z}=(0,a.xA)({currencies:(0,m.useMemo)(()=>[...F&&(null==_?void 0:_.token)?[_.token]:[],...L&&(null==B?void 0:B.token)?[B.token]:[]],[F,L,_,B]),enabled:!!(!O&&!q&&(F||L))}),G=!!((null==_?void 0:_.token)&&(null==M?void 0:null===(e=M[null==_?void 0:null===(t=_.token)||void 0===t?void 0:t.address])||void 0===e?void 0:e.is_honeypot)||(null==B?void 0:B.token)&&(null==M?void 0:null===(n=M[null==B?void 0:null===(f=B.token)||void 0===f?void 0:f.address])||void 0===n?void 0:n.is_honeypot));return((0,x.isTokenSecurityChainId)(k)||(0,x.isTokenSecurityChainId)(T))&&z?null:(0,i.jsx)(s.Dialog,{open:!!(!O&&!q&&(F||L)),onOpenChange:e=>!e&&U(),children:(0,i.jsxs)(s.DialogContent,{className:"!max-h-screen overflow-y-auto",children:[(0,i.jsxs)(s.DialogHeader,{children:[(0,i.jsxs)(s.DialogTitle,{children:[(0,i.jsxs)("div",{className:"flex gap-4 pb-2",children:[E&&F?(0,i.jsxs)("div",{className:"relative pr-3",children:[(0,i.jsx)(u.J,{currency:E,width:44,height:44}),(0,i.jsx)(o.d,{chainId:k,className:"absolute bottom-0 right-0",width:24,height:24})]}):null,I&&L?(0,i.jsxs)("div",{className:"relative pr-3",children:[(0,i.jsx)(u.J,{currency:I,width:44,height:44}),(0,i.jsx)(o.d,{chainId:T,className:"absolute bottom-0 right-0",width:24,height:24})]}):null]}),(0,i.jsxs)("span",{children:["Unknown token",!F&&(null==_?void 0:_.token)||!L&&(null==B?void 0:B.token)?"":"s"]})]}),(0,i.jsx)(s.DialogDescription,{className:"!mr-0 !text-xs",children:"Anyone can create a token, including creating fake versions of existing tokens that claim to represent projects. If you purchase this token, you may not be able to sell it back."})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-4",children:[E&&F&&!(null==_?void 0:_.token)&&(0,i.jsxs)(c.a,{children:[!L&&(null==B?void 0:B.token)?null:(0,i.jsx)(c.a.Label,{children:"Token 1"}),(0,i.jsx)(c.a.Control,{children:(0,i.jsxs)("p",{className:"p-3 text-sm text-gray-900 dark:text-slate-50",children:["Could not retrieve token info for"," ",(0,i.jsx)("a",{target:"_blank",href:null===(b=v.Chain.from(k))||void 0===b?void 0:b.getTokenUrl(E.wrapped.address),className:"text-blue font-medium",rel:"noreferrer",children:(0,g.shortenAddress)(E.wrapped.address)})," ","are you sure this token is on ",null===(S=v.Chain.from(k))||void 0===S?void 0:S.name,"?"]})})]}),F&&(null==_?void 0:_.token)&&(0,i.jsxs)(c.a,{children:[!L&&(null==B?void 0:B.token)?null:(0,i.jsx)(c.a.Label,{children:"Token 1"}),(0,i.jsxs)(c.a.Control,{children:[(0,i.jsx)(c.a.KeyValue,{title:(0,i.jsx)("span",{className:"text-gray-900 dark:text-slate-50",children:"Name"}),children:_.token.name}),(0,i.jsx)(c.a.KeyValue,{title:(0,i.jsx)("span",{className:"text-gray-900 dark:text-slate-50",children:"Symbol"}),children:_.token.symbol}),(0,i.jsx)(c.a.KeyValue,{title:(0,i.jsx)("span",{className:"text-gray-900 dark:text-slate-50",children:"Address"}),children:(0,i.jsx)("a",{target:"_blank",href:null===(w=v.Chain.from(k))||void 0===w?void 0:w.getTokenUrl(_.token.address),className:"text-blue",rel:"noreferrer",children:(0,g.shortenAddress)(_.token.address)})})]})]}),F&&(null==_?void 0:_.token)&&(0,x.isTokenSecurityChainId)(_.token.chainId)?(0,i.jsx)(h.msV,{tokenSecurityResponse:M,token:_.token}):null,I&&L&&!(null==B?void 0:B.token)&&(0,i.jsxs)(c.a,{children:[!F&&(null==_?void 0:_.token)?null:(0,i.jsx)(c.a.Label,{children:"Token 2"}),(0,i.jsx)(c.a.Control,{children:(0,i.jsxs)("p",{className:"p-3 text-sm text-gray-900 dark:text-slate-50",children:["Could not retrieve token info for"," ",(0,i.jsx)("a",{target:"_blank",href:null===(j=v.Chain.from(T))||void 0===j?void 0:j.getTokenUrl(I.wrapped.address),className:"text-blue font-medium",rel:"noreferrer",children:(0,g.shortenAddress)(I.wrapped.address)})," ","are you sure this token is on ",null===(A=v.Chain.from(T))||void 0===A?void 0:A.name,"?"]})})]}),L&&(null==B?void 0:B.token)&&(0,i.jsxs)(c.a,{children:[!F&&(null==_?void 0:_.token)?null:(0,i.jsx)(c.a.Label,{children:"Token 2"}),(0,i.jsxs)(c.a.Control,{children:[(0,i.jsx)(c.a.KeyValue,{title:(0,i.jsx)("span",{className:"text-gray-900 dark:text-slate-50",children:"Name"}),children:B.token.name}),(0,i.jsx)(c.a.KeyValue,{title:(0,i.jsx)("span",{className:"text-gray-900 dark:text-slate-50",children:"Symbol"}),children:B.token.symbol}),(0,i.jsx)(c.a.KeyValue,{title:(0,i.jsx)("span",{className:"text-gray-900 dark:text-slate-50",children:"Address"}),children:(0,i.jsx)("a",{target:"_blank",href:null===(y=v.Chain.from(T))||void 0===y?void 0:y.getTokenUrl(B.token.address),className:"text-blue",rel:"noreferrer",children:(0,g.shortenAddress)(B.token.address)})})]})]}),L&&(null==B?void 0:B.token)&&(0,x.isTokenSecurityChainId)(B.token.chainId)?(0,i.jsx)(h.msV,{tokenSecurityResponse:M,token:B.token}):null]}),(0,i.jsx)(s.DialogFooter,{children:!G&&(F&&(null==_?void 0:_.token)||L&&(null==B?void 0:B.token))?(0,i.jsx)(d.zx,{fullWidth:!0,size:"xl",onClick:()=>H([null==_?void 0:_.token,null==B?void 0:B.token]),children:"I understand"}):(0,i.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,i.jsx)(d.zx,{fullWidth:!0,size:"xl",onClick:U,children:"Close"}),(0,i.jsx)(l.v,{variant:"destructive",size:"sm",children:"Sushi does not support honetpot tokens. This token contract cannot be imported!"})]})})]})})}},38606:function(e,t,n){"use strict";n.d(t,{CrossChainSwapToken0Input:function(){return v}});var i=n(13898),r=n(73133),a=n(47706),s=n(14210),o=n(73612),l=n(89866),d=n(98282),u=n(66581),c=n(22335),h=n(95799),m=n(76316);let v=()=>{var e;let{state:{swapAmountString:t,chainId0:n,token0:v},mutate:{setSwapAmount:x,setToken0:g,setChainId0:p},isToken0Loading:f}=(0,m.w)();return(0,i.jsxs)("div",{className:"border border-accent flex flex-col bg-white dark:bg-slate-800 rounded-xl overflow-hidden",children:[(0,i.jsx)(r.z,{open:!0,children:(0,i.jsxs)("div",{className:"p-3 border-b border-accent flex gap-2 items-center",children:[(0,i.jsx)(a.Label,{className:"text-xs tracking-tighter text-muted-foreground",children:"From"}),(0,i.jsx)(s.NetworkSelector,{networks:h.SUSHIXSWAP_2_SUPPORTED_CHAIN_IDS,selected:n,onSelect:(e,t)=>{p(e),t()},children:(0,i.jsxs)(o.zx,{variant:"secondary",size:"xs",testId:"network-selector-from",children:[(0,i.jsx)(l.d,{chainId:n,width:16,height:16}),null===(e=c.Chain.from(n))||void 0===e?void 0:e.name,(0,i.jsx)(d.SelectIcon,{})]})})]})}),(0,i.jsx)(u.H.Currency,{id:"swap-from",type:"INPUT",className:"p-3 bg-white dark:bg-slate-800",chainId:n,onSelect:g,value:t,onChange:x,currency:v,loading:f,currencyLoading:f,allowNative:(0,h.isWNativeSupported)(n)})]})}},51539:function(e,t,n){"use strict";n.d(t,{CrossChainSwapToken1Input:function(){return v}});var i=n(13898),r=n(73133),a=n(47706),s=n(14210),o=n(73612),l=n(89866),d=n(98282),u=n(66581),c=n(22335),h=n(95799),m=n(76316);let v=()=>{var e,t,n;let{state:{chainId1:v,token1:x},mutate:{setToken1:g,setChainId1:p},isToken1Loading:f}=(0,m.w)(),{isInitialLoading:b,isFetching:S,data:w}=(0,m.E)();return(0,i.jsxs)("div",{className:"border border-accent flex flex-col bg-white dark:bg-slate-800 rounded-xl overflow-hidden",children:[(0,i.jsx)(r.z,{open:!0,children:(0,i.jsxs)("div",{className:"flex p-3 border-b border-accent gap-2 items-center",children:[(0,i.jsx)(a.Label,{className:"text-xs tracking-tighter text-muted-foreground",children:"To"}),(0,i.jsx)("div",{children:(0,i.jsx)(s.NetworkSelector,{networks:h.SUSHIXSWAP_2_SUPPORTED_CHAIN_IDS,selected:v,onSelect:(e,t)=>{p(e),t()},children:(0,i.jsxs)(o.zx,{variant:"secondary",size:"xs",testId:"network-selector-to",children:[(0,i.jsx)(l.d,{chainId:v,width:16,height:16}),null===(e=c.Chain.from(v))||void 0===e?void 0:e.name,(0,i.jsx)(d.SelectIcon,{})]})})})]})}),(0,i.jsx)(u.H.Currency,{id:"swap-to",type:"OUTPUT",disabled:!0,className:"p-3 bg-white dark:bg-slate-800",value:null!==(n=null==w?void 0:null===(t=w.amountOut)||void 0===t?void 0:t.toSignificant())&&void 0!==n?n:"",chainId:v,onSelect:g,currency:x,loading:b,disableMaxButton:!0,fetching:S,currencyLoading:f,allowNative:(0,h.isWNativeSupported)(v)})]})}},33999:function(e,t,n){"use strict";n.d(t,{CrossChainSwapTradeButton:function(){return el}});var i,r,a=n(13898),s=n(61893),o=n(73612),l=n(51242),d=n(73620),u=n(4470),c=n(95799),h=n(79436),m=n(84904),v=n(49372),x=n(2321),g=n(73133),p=n(70987),f=n(8783),b=n(5912),S=n(26676),w=n(70312),j=n(27296),A=n(41875),y=n(22335),k=n(99119),T=n(14744),E=n(60426),I=n(86365),N=n(49980),C=n(21322),P=n(21077);let R=e=>{let{tradeId:t,network0:n,network1:i,txHash:r,enabled:a}=e,{data:s}=(0,P.I)();return(0,C.a)({queryKey:["axelarScanLink",{txHash:r,network0:n,network1:i,tradeId:t}],queryFn:async()=>r&&s?s.getStatus({transactionId:r}).then(e=>{var t;return{link:e.axelarTransactionUrl,status:e.squidTransactionStatus,dstTxHash:null===(t=e.toChain)||void 0===t?void 0:t.transactionId}}):{link:void 0,status:void 0,dstTxHash:void 0},refetchInterval:2e3,enabled:a&&!!r})},D=(0,n(92283).eI)("mainnet"),_=e=>{let{tradeId:t,network0:n,network1:i,txHash:r,enabled:a}=e;return(0,C.a)({queryKey:["lzLink",{txHash:r,network0:n,network1:i,tradeId:t}],queryFn:async()=>{if(r&&n in c.STARGATE_CHAIN_ID&&i in c.STARGATE_CHAIN_ID){let e=await D.getMessagesBySrcTxHash(r);if(e.messages.length>0){let{status:t,dstTxHash:n}=e.messages[0];return{link:"https://layerzeroscan.com/tx/".concat(r),status:t,dstTxHash:n}}}return{link:void 0,status:void 0,dstTxHash:void 0}},refetchInterval:2e3,enabled:a&&!!r})};var O=n(53003),B=n(31957),q=n(43981),F=n.n(q),L=n(36877),H=n(47365),U=n(40587),M=n(19074),z=n(21558),G=n(76316);let W=e=>{var t,n,i,r,s,l,d,u,c,h,m,v,x;let{txHash:g,bridgeUrl:f,adapter:b,dstTxHash:S,dialogState:w,tradeRef:j}=e,{state:{chainId0:A,chainId1:T,token0:E,token1:I,recipient:C}}=(0,G.w)(),{data:P}=(0,G.E)(),R=(null==P?void 0:P.transactionType)&&[N.iU.BridgeAndSwap,N.iU.CrossChainSwap].includes(P.transactionType);return 0===w.source?(0,a.jsx)(a.Fragment,{children:"Please sign order with your wallet."}):2===w.source?(0,a.jsxs)(a.Fragment,{children:["Waiting for your"," ",(0,a.jsx)(o.zx,{asChild:!0,size:"sm",variant:"link",children:(0,a.jsx)("a",{target:"_blank",rel:"noreferrer noopener noreferer",href:g?null===(t=y.Chain.from(A))||void 0===t?void 0:t.getTxUrl(g):"",children:"transaction"})})," ","to be confirmed on ",null===(n=y.Chain.from(A))||void 0===n?void 0:n.name]}):5===w.source?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-red",children:"Oops!"})," Your"," ",(0,a.jsx)("span",{className:"text-blue hover:underline cursor-pointer",children:"transaction"})," ","failed"]}):2===w.bridge?(0,a.jsxs)(a.Fragment,{children:["Bridging"," ",(0,a.jsx)(o.zx,{asChild:!0,size:"sm",variant:"link",children:(0,a.jsxs)("a",{target:"_blank",rel:"noreferrer noopener noreferer",href:f,className:F()(f?"":"cursor-wait","flex items-center gap-1"),children:[(0,a.jsx)(p.b,{children:"to the destination chain"}),(0,a.jsx)(B.Z,{width:16,height:16})]})})," ",(0,a.jsx)(V,{adapter:b})]}):3===w.dest?(0,a.jsxs)(a.Fragment,{children:["We ","couldn't"," swap ",null==j?void 0:null===(r=j.current)||void 0===r?void 0:null===(i=r.dstBridgeToken)||void 0===i?void 0:i.symbol," into"," ",null==I?void 0:I.symbol,", ",null==j?void 0:null===(l=j.current)||void 0===l?void 0:null===(s=l.dstBridgeToken)||void 0===s?void 0:s.symbol," has been send to"," ",C?(0,a.jsx)(o.zx,{asChild:!0,size:"sm",variant:"link",children:(0,a.jsx)("a",{target:"_blank",rel:"noreferrer noopener noreferer",href:null===(d=y.Chain.from(T))||void 0===d?void 0:d.getAccountUrl(C),children:(0,a.jsx)(p.b,{children:(0,k.shortenAddress)(C)})})}):"recipient"]}):4===w.dest?R?(0,a.jsxs)(a.Fragment,{children:["You sold"," ",(0,a.jsx)(o.zx,{asChild:!0,size:"sm",variant:"link",children:(0,a.jsxs)("a",{target:"_blank",rel:"noreferrer noopener noreferer",href:g?null===(u=y.Chain.from(A))||void 0===u?void 0:u.getTxUrl(g):"",children:[null==P?void 0:null===(c=P.amountIn)||void 0===c?void 0:c.toSignificant(6)," ",null==E?void 0:E.symbol]})})," ","for"," ",(0,a.jsx)(o.zx,{asChild:!0,size:"sm",variant:"link",children:(0,a.jsxs)("a",{target:"_blank",rel:"noreferrer noopener noreferer",href:S?null===(h=y.Chain.from(T))||void 0===h?void 0:h.getTxUrl(S):"",children:[null==P?void 0:null===(m=P.amountOut)||void 0===m?void 0:m.toSignificant(6)," ",null==I?void 0:I.symbol]})})]}):(0,a.jsxs)(a.Fragment,{children:["Sent"," ",(0,a.jsx)(o.zx,{asChild:!0,size:"sm",variant:"link",children:(0,a.jsxs)("a",{target:"_blank",rel:"noreferrer noopener noreferer",href:S?null===(v=y.Chain.from(T))||void 0===v?void 0:v.getTxUrl(S):"",children:[null==P?void 0:null===(x=P.amountOut)||void 0===x?void 0:x.toSignificant(6)," ",null==I?void 0:I.symbol]})})," ","to ",C?(0,k.shortenAddress)(C):"recipient"]}):(0,a.jsx)("span",{})},V=e=>{let{adapter:t}=e;return(0,a.jsxs)("span",{className:"flex items-center gap-1",children:["powered by"," ",t===N.E.Stargate?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"min-h-4 min-w-4",children:(0,a.jsx)(H.F.Icon,{currency:c.STARGATE_TOKEN,width:16,height:16})})," ","Stargate"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"min-h-4 min-w-4",children:(0,a.jsx)(L.P,{width:16,height:16})})," ","Squid"]})]})};(i=r||(r={}))[i.Sign=0]="Sign",i[i.NotStarted=1]="NotStarted",i[i.Pending=2]="Pending",i[i.PartialSuccess=3]="PartialSuccess",i[i.Success=4]="Success",i[i.Failed=5]="Failed";let K=e=>5===e.source||[4,5,3].includes(e.dest),Z=e=>5===e.source,X=e=>{let{partial:t}=e;return(0,a.jsx)("div",{className:"flex w-10 h-10 justify-center items-center",children:(0,a.jsx)(U.O,{width:40,height:40,className:t?"!text-yellow":""})})},Q=()=>(0,a.jsx)("div",{className:"flex w-10 h-10 justify-center items-center",children:(0,a.jsx)(M.i,{width:40,height:40})}),Y=()=>(0,a.jsx)(z.Loader,{circleClassName:"!text-blue/[0.15]",className:"!text-blue",size:40}),$=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"text-lg w-10 h-10 rounded-full flex justify-center items-center bg-gray-300 text-gray-500 dark:bg-slate-800 dark:text-slate-400 font-semibold",children:t})},J=()=>(0,a.jsx)("div",{className:"h-10 flex justify-center items-center",children:(0,a.jsx)("div",{className:"h-0.5 w-10 bg-gray-200 dark:bg-slate-800 rounded-full"})}),ee=e=>{let{state:t,index:n}=e;return 1===t?(0,a.jsx)($,{children:n}):0===t||2===t?(0,a.jsx)(Y,{}):4===t?(0,a.jsx)(X,{partial:!1}):5===t?(0,a.jsx)(Q,{}):(0,a.jsx)(X,{partial:!0})};var et=n(31801);let en=()=>{var e,t,n,i;let{state:{adapter:r,chainId0:s,token0:o,token1:l,chainId1:d}}=(0,G.w)(),{data:u,isInitialLoading:c}=(0,G.E)();return(0,a.jsxs)("div",{className:"px-3 flex justify-between w-full",children:[(0,a.jsxs)("div",{className:"p-3 flex flex-col gap-2.5 overflow-hidden",children:[(0,a.jsxs)("span",{className:"text-[10px] text-muted-foreground overflow-hidden overflow-ellipsis whitespace-nowrap",children:["From: ",null===(t=y.Chain.fromChainId(s))||void 0===t?void 0:null===(e=t.name)||void 0===e?void 0:e.toUpperCase()]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[!c&&(null==u?void 0:u.srcBridgeToken)&&o?(0,a.jsxs)("span",{className:"text-xs font-medium overflow-hidden overflow-ellipsis whitespace-nowrap",children:["Swap ",o.symbol," to ",u.srcBridgeToken.symbol]}):(0,a.jsx)(b.N2,{fontSize:"xs"}),c?(0,a.jsx)(b.nN,{className:"h-2.5 py-0.5 w-[80px]"}):(null==u?void 0:u.srcTrade)?(0,a.jsx)(et.i,{trade:u.srcTrade,children:(0,a.jsx)("button",{type:"button",className:"text-[10px] text-blue font-semibold text-left",children:"View Route"})}):null]})]}),(0,a.jsxs)("div",{className:"flex items-center opacity-20 -ml-1 gap-1",children:[(0,a.jsx)("span",{className:"bg-blue w-2 h-2 rounded-full"}),(0,a.jsx)("span",{className:"bg-blue w-4 h-0.5 rounded-md"}),(0,a.jsx)("span",{className:"bg-blue w-2 h-2 rounded-full"})]}),(0,a.jsxs)("div",{className:"p-3 grow flex flex-col gap-2.5 items-center overflow-hidden",children:[(0,a.jsx)(ei,{adapter:r}),!c&&(null==u?void 0:u.srcBridgeToken)?(0,a.jsxs)("span",{className:"text-xs font-medium overflow-hidden overflow-ellipsis whitespace-nowrap",children:["Bridge ",u.srcBridgeToken.symbol]}):(0,a.jsx)(b.N2,{fontSize:"xs"})]}),(0,a.jsxs)("div",{className:"flex items-center opacity-20 -mr-1 gap-1",children:[(0,a.jsx)("span",{className:"bg-blue w-2 h-2 rounded-full"}),(0,a.jsx)("span",{className:"bg-blue w-4 h-0.5 rounded-md"}),(0,a.jsx)("span",{className:"bg-blue w-2 h-2 rounded-full"})]}),(0,a.jsxs)("div",{className:"p-3 flex flex-col gap-2.5 overflow-hidden",children:[(0,a.jsxs)("span",{className:"text-[10px] text-muted-foreground overflow-hidden overflow-ellipsis whitespace-nowrap",children:["To: ",null===(i=y.Chain.fromChainId(d))||void 0===i?void 0:null===(n=i.name)||void 0===n?void 0:n.toUpperCase()]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[!c&&(null==u?void 0:u.dstBridgeToken)&&l?(0,a.jsxs)("span",{className:"text-xs font-medium overflow-hidden overflow-ellipsis whitespace-nowrap",children:["Swap ",u.dstBridgeToken.symbol," to ",l.symbol]}):(0,a.jsx)(b.N2,{fontSize:"xs"}),c?(0,a.jsx)(b.nN,{className:"h-2.5 py-0.5 w-[80px]"}):(null==u?void 0:u.dstTrade)?(0,a.jsx)(et.i,{trade:u.dstTrade,children:(0,a.jsx)("button",{type:"button",className:"text-[10px] text-blue font-semibold text-left",children:"View Route"})}):null]})]})]})},ei=e=>{let{adapter:t}=e;return t===N.E.Stargate?(0,a.jsxs)("span",{className:"flex items-center text-[10px] text-muted-foreground gap-1",children:["Via",(0,a.jsx)(H.F.Icon,{currency:c.STARGATE_TOKEN,width:10,height:10}),"Stargate"]}):(0,a.jsxs)("span",{className:"flex items-center text-[10px] text-muted-foreground gap-1",children:["Via",(0,a.jsx)(L.P,{width:10,height:10}),"Squid"]})},er=e=>{var t,n;let{children:i}=e,[l]=(0,v.useSlippageTolerance)(),{address:C,chain:P}=(0,w.mAM)(),{mutate:{setTradeId:D,setSwapAmount:B},state:{adapter:q,recipient:F,swapAmount:L,swapAmountString:H,chainId0:U,token0:M,token1:z,chainId1:V,tradeId:X}}=(0,G.w)(),Q=(0,w.t_S)({chainId:U}),Y=(0,w.t_S)({chainId:V}),{data:$,isFetching:et}=(0,G.E)(),{approved:ei}=(0,I.g9)(u.aZ),er=(0,d.useRef)(),eo=(0,w.H5m)(),[el,ed]=(0,d.useState)({source:r.Success,bridge:r.Success,dest:r.Success}),eu=(0,d.useRef)(null),{data:ec,isError:eh,error:em}=(0,w.GQx)({...(0,w.OHx)(U),functionName:null==$?void 0:$.functionName,args:null==$?void 0:$.writeArgs,value:null!==(n=null==$?void 0:$.value)&&void 0!==n?n:0n,query:{enabled:!!((0,c.isSushiXSwap2ChainId)(U)&&(0,c.isSushiXSwap2ChainId)(V)&&(null==$?void 0:$.writeArgs)&&(null==$?void 0:$.writeArgs.length)>0&&(null==P?void 0:P.id)===U&&ei&&(null==$?void 0:null===(t=$.route)||void 0===t?void 0:t.status)!=="NoWay")}});(0,d.useEffect)(()=>{em&&(console.error("cross chain swap prepare error",em),em.message.startsWith("user rejected transaction")||A.log.error("cross chain swap prepare error",{trade:(0,T.P)($),error:(0,T.P)(em)}))},[em,$]);let ev=(0,d.useCallback)(()=>{setTimeout(()=>{ed({source:r.NotStarted,bridge:r.NotStarted,dest:r.NotStarted})},500)},[]),ex=(0,d.useCallback)(async e=>{var t,n,i,a,s,o,l,d,u,c,h,m,v,x;if(ed({source:r.Pending,bridge:r.NotStarted,dest:r.NotStarted}),B(""),!(null==eu?void 0:eu.current)||!U)return;let g=Q.waitForTransactionReceipt({hash:e});er.current=new Date().getTime(),(0,S.Yz)({account:C,type:"swap",chainId:U,txHash:e,promise:g,summary:{pending:"Swapping ".concat(null==eu?void 0:null===(n=eu.current)||void 0===n?void 0:null===(t=n.amountIn)||void 0===t?void 0:t.toSignificant(6)," ").concat(null==eu?void 0:null===(a=eu.current)||void 0===a?void 0:null===(i=a.amountIn)||void 0===i?void 0:i.currency.symbol," to bridge token ").concat(null==eu?void 0:null===(o=eu.current)||void 0===o?void 0:null===(s=o.srcBridgeToken)||void 0===s?void 0:s.symbol),completed:"Swap ".concat(null==eu?void 0:null===(d=eu.current)||void 0===d?void 0:null===(l=d.amountIn)||void 0===l?void 0:l.toSignificant(6)," ").concat(null==eu?void 0:null===(c=eu.current)||void 0===c?void 0:null===(u=c.amountIn)||void 0===u?void 0:u.currency.symbol," to bridge token ").concat(null==eu?void 0:null===(m=eu.current)||void 0===m?void 0:null===(h=m.srcBridgeToken)||void 0===h?void 0:h.symbol),failed:"Something went wrong when trying to swap ".concat(null==eu?void 0:null===(x=eu.current)||void 0===x?void 0:null===(v=x.amountIn)||void 0===v?void 0:v.currency.symbol," to bridge token")},timestamp:er.current,groupTimestamp:er.current});try{let e=await g,t=eu.current;"success"===e.status?A.log.info("cross chain swap success (source)",{trade:(0,T.P)(t)}):(A.log.error("cross chain swap failed (source)",{trade:(0,T.P)(t)}),ed({source:r.Failed,bridge:r.NotStarted,dest:r.NotStarted})),ed({source:r.Success,bridge:r.Pending,dest:r.NotStarted})}catch(e){A.log.error("cross chain swap error (source)",{trade:(0,T.P)($)}),ed({source:r.Failed,bridge:r.NotStarted,dest:r.NotStarted})}finally{await eo(),D((0,j.x0)())}},[B,U,Q,C,$,eo,D]),eg=(0,d.useCallback)(e=>{if(e instanceof E.ab){ev();return}ed({source:r.Failed,bridge:r.NotStarted,dest:r.NotStarted}),(0,S.rv)(e.message,!1),A.log.error("cross chain swap error",{trade:(0,T.P)($),error:(0,T.P)(e)})},[ev,$]),{writeContractAsync:ep,isLoading:ef,data:eb,reset:eS}=(0,w.S03)({mutation:{onSuccess:ex,onError:eg,onMutate:()=>{eu&&$&&(eu.current=$)}}}),ew=(0,d.useMemo)(()=>{if(ec)return async e=>{ed({source:r.Sign,bridge:r.NotStarted,dest:r.NotStarted}),e();try{await ep(ec.request)}catch(e){}}},[ep,ec]),{data:ej}=_({tradeId:X,network1:V,network0:U,txHash:eb,enabled:q===N.E.Stargate}),{data:eA}=R({tradeId:X,network1:V,network0:U,txHash:eb,enabled:q===N.E.Squid}),{data:ey}=(0,w.kF9)({chainId:V,hash:q===N.E.Stargate?null==ej?void 0:ej.dstTxHash:null==eA?void 0:eA.dstTxHash,query:{enabled:!!(q===N.E.Stargate?null==ej?void 0:ej.dstTxHash:null==eA?void 0:eA.dstTxHash)}});return(0,d.useEffect)(()=>{(null==ej?void 0:ej.status)==="DELIVERED"&&ed({source:r.Success,bridge:r.Success,dest:r.Success}),(null==ej?void 0:ej.status)==="FAILED"&&ed(e=>({...e,dest:r.PartialSuccess}))},[null==ej?void 0:ej.status]),(0,d.useEffect)(()=>{(null==eA?void 0:eA.status)==="success"&&ed({source:r.Success,bridge:r.Success,dest:r.Success}),(null==eA?void 0:eA.status)==="partial_success"&&ed(e=>({...e,bridge:r.Success,dest:r.PartialSuccess}))},[null==eA?void 0:eA.status]),(0,d.useEffect)(()=>{if((null==eA?void 0:eA.link)&&er.current&&el.source===r.Success){var e,t,n,i;(0,S.Bh)({account:C,type:"squid",chainId:U,href:eA.link,summary:"Bridging ".concat(null==eu?void 0:null===(t=eu.current)||void 0===t?void 0:null===(e=t.srcBridgeToken)||void 0===e?void 0:e.symbol," from ").concat(null===(n=y.Chain.from(U))||void 0===n?void 0:n.name," to ").concat(null===(i=y.Chain.from(V))||void 0===i?void 0:i.name),timestamp:new Date().getTime(),groupTimestamp:er.current})}},[null==eA?void 0:eA.link]),(0,d.useEffect)(()=>{if((null==ej?void 0:ej.link)&&er.current&&el.source===r.Success){var e,t,n,i;(0,S.Bh)({account:C,type:"stargate",chainId:U,href:ej.link,summary:"Bridging ".concat(null==eu?void 0:null===(t=eu.current)||void 0===t?void 0:null===(e=t.srcBridgeToken)||void 0===e?void 0:e.symbol," from ").concat(null===(n=y.Chain.from(U))||void 0===n?void 0:n.name," to ").concat(null===(i=y.Chain.from(V))||void 0===i?void 0:i.name),timestamp:new Date().getTime(),groupTimestamp:er.current})}},[null==ej?void 0:ej.link]),(0,d.useEffect)(()=>{if(ey&&er.current){var e,t,n,i,r,a,s,o,l,d,u,c,h,m,v,x,g,p;(0,S.Yz)({account:C,type:"swap",chainId:V,txHash:ey.hash,promise:Y.waitForTransactionReceipt({hash:ey.hash}).then(eS),summary:{pending:"Swapping ".concat(null==eu?void 0:null===(t=eu.current)||void 0===t?void 0:null===(e=t.dstBridgeToken)||void 0===e?void 0:e.symbol," to ").concat(null==eu?void 0:null===(i=eu.current)||void 0===i?void 0:null===(n=i.amountOut)||void 0===n?void 0:n.toSignificant(6)," ").concat(null==eu?void 0:null===(a=eu.current)||void 0===a?void 0:null===(r=a.amountOut)||void 0===r?void 0:r.currency.symbol),completed:"Swap ".concat(null==eu?void 0:null===(o=eu.current)||void 0===o?void 0:null===(s=o.dstBridgeToken)||void 0===s?void 0:s.symbol," to ").concat(null==eu?void 0:null===(d=eu.current)||void 0===d?void 0:null===(l=d.amountOut)||void 0===l?void 0:l.toSignificant(6)," ").concat(null==eu?void 0:null===(c=eu.current)||void 0===c?void 0:null===(u=c.amountOut)||void 0===u?void 0:u.currency.symbol),failed:"Something went wrong when trying to swap ".concat(null==eu?void 0:null===(m=eu.current)||void 0===m?void 0:null===(h=m.dstBridgeToken)||void 0===h?void 0:h.symbol," to ").concat(null==eu?void 0:null===(x=eu.current)||void 0===x?void 0:null===(v=x.amountOut)||void 0===v?void 0:v.toSignificant(6)," ").concat(null==eu?void 0:null===(p=eu.current)||void 0===p?void 0:null===(g=p.amountOut)||void 0===g?void 0:g.currency.symbol)},timestamp:new Date().getTime(),groupTimestamp:er.current})}},[ey]),(0,a.jsxs)(s.DialogProvider,{children:[(0,a.jsx)(s.DialogReview,{children:e=>{var t,n,r,d,u,c,v,S,w,j,A,E,I;let{confirm:N}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(g.z,{open:!!(+H>0&&(0,T.P)(em).includes("insufficient funds")),children:(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsxs)(x.v,{size:"sm",variant:"destructive",children:["Insufficient ",O.Native.onChain(U).symbol," balance on"," ",null===(t=y.Chain.fromChainId(U))||void 0===t?void 0:t.name," to cover the network fee. Please lower your input amount or"," ",(0,a.jsxs)("a",{href:"/swap?chainId=".concat(U,"&token0=0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE&token1=NATIVE"),className:"underline decoration-dotted underline-offset-2",children:["swap for more ",O.Native.onChain(U).symbol]}),"."]})})}),(0,a.jsx)("div",{className:"mt-4",children:i})]}),(0,a.jsxs)(s.DialogContent,{children:[(0,a.jsxs)(s.DialogHeader,{children:[(0,a.jsx)(s.DialogTitle,{children:et?(0,a.jsx)(b.N2,{fontSize:"xs",className:"w-2/3"}):"Receive ".concat(null==$?void 0:null===(n=$.amountOut)||void 0===n?void 0:n.toSignificant(6)," ").concat(null==z?void 0:z.symbol)}),(0,a.jsxs)(s.DialogDescription,{children:["Swap ",null==L?void 0:L.toSignificant(6)," ",null==M?void 0:M.symbol," "]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 overflow-x-hidden",children:[(0,a.jsx)(f.a,{children:(0,a.jsxs)(f.a.Control,{children:[(0,a.jsx)(f.a.KeyValue,{title:"Network",children:(0,a.jsxs)("div",{className:"justify-end w-full gap-1 truncate whitespace-nowrap",children:[null===y.chainName||void 0===y.chainName?void 0:null===(u=y.chainName[U])||void 0===u?void 0:null===(d=u.replace("Mainnet Shard 0",""))||void 0===d?void 0:null===(r=d.replace("Mainnet",""))||void 0===r?void 0:r.trim(),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-gray-400 dark:text-slate-500",children:"to"})," ",null===y.chainName||void 0===y.chainName?void 0:null===(S=y.chainName[V])||void 0===S?void 0:null===(v=S.replace("Mainnet Shard 0",""))||void 0===v?void 0:null===(c=v.replace("Mainnet",""))||void 0===c?void 0:c.trim()]})}),(0,a.jsx)(f.a.KeyValue,{title:"Price impact",subtitle:"The impact your trade has on the market price of this pool.",children:!et&&(null==$?void 0:$.priceImpact)?"".concat((null==$?void 0:null===(w=$.priceImpact)||void 0===w?void 0:w.lessThan(h.ZERO))?"+":(null==$?void 0:null===(j=$.priceImpact)||void 0===j?void 0:j.greaterThan(h.ZERO))?"-":"").concat(Math.abs(Number(null==$?void 0:null===(A=$.priceImpact)||void 0===A?void 0:A.toFixed(2))),"%"):(0,a.jsx)(b.N2,{align:"right",fontSize:"sm",className:"w-1/5"})}),(0,a.jsx)(f.a.KeyValue,{title:"Min. received after slippage (".concat("AUTO"===l?"0.1":l,"%)"),subtitle:"The minimum amount you are guaranteed to receive.",children:!et&&(null==$?void 0:$.minAmountOut)?"".concat(null==$?void 0:null===(E=$.minAmountOut)||void 0===E?void 0:E.toSignificant(6)," ").concat(null==z?void 0:z.symbol):(0,a.jsx)(b.N2,{align:"right",fontSize:"sm",className:"w-1/2"})})]})}),(0,a.jsx)(f.a,{className:"!pt-2",children:(0,a.jsx)(f.a.Control,{children:(0,a.jsx)(en,{})})}),F&&(0,a.jsx)(f.a,{className:"!pt-2",children:(0,a.jsx)(f.a.Control,{children:(0,a.jsx)(f.a.KeyValue,{title:"Recipient",children:(0,a.jsx)("a",{target:"_blank",href:null!==(I=y.Chain.accountUrl(U,F))&&void 0!==I?I:"#",className:"flex items-center gap-2 cursor-pointer text-blue",rel:"noreferrer",children:(0,k.shortenAddress)(F)})})})})]}),(0,a.jsx)(s.DialogFooter,{children:(0,a.jsx)(o.zx,{fullWidth:!0,size:"xl",loading:!ew&&!eh,onClick:()=>null==ew?void 0:ew(N),disabled:ef||!!(!ew&&+H>0)||eh,color:eh?"red":(0,m.oX)(null==$?void 0:$.priceImpact)>=3?"red":"blue",testId:"confirm-swap",children:eh?"Shoot! Something went wrong :(":ef?(0,a.jsx)(p.b,{children:"Confirm Swap"}):"Swap ".concat(null==M?void 0:M.symbol," for ").concat(null==z?void 0:z.symbol)})})]})]})}}),(0,a.jsx)(s.DialogCustom,{dialogType:s.DialogType.Confirm,children:(0,a.jsxs)(s.DialogContent,{onInteractOutside:e=>e.preventDefault(),children:[(0,a.jsxs)(s.DialogHeader,{children:[(0,a.jsx)(s.DialogTitle,{children:"Cross-chain swap"}),(0,a.jsx)(s.DialogDescription,{asChild:!0,children:(0,a.jsx)("div",{children:(0,a.jsx)(W,{dialogState:el,bridgeUrl:ea(q,ej,eA),adapter:q,txHash:eb,dstTxHash:es(q,ej,eA),tradeRef:eu})})})]}),(0,a.jsx)("div",{className:"flex flex-col items-center justify-center gap-4",children:(0,a.jsx)("div",{className:"py-5",children:(0,a.jsxs)("div",{className:"relative flex gap-3",children:[(0,a.jsx)(ee,{index:1,state:el.source}),(0,a.jsx)(J,{}),(0,a.jsx)(ee,{index:2,state:el.bridge}),(0,a.jsx)(J,{}),(0,a.jsx)(ee,{index:3,state:el.dest})]})})}),(0,a.jsx)(s.DialogFooter,{children:(0,a.jsx)(s.DialogClose,{asChild:!0,children:(0,a.jsx)(o.zx,{size:"xl",fullWidth:!0,id:"swap-dialog-close",children:Z(el)?"Try again":K(el)?"Make another swap":"Close"})})})]})})]})},ea=(e,t,n)=>e===N.E.Stargate?null==t?void 0:t.link:null==n?void 0:n.link,es=(e,t,n)=>e===N.E.Stargate?null==t?void 0:t.dstTxHash:null==n?void 0:n.dstTxHash;var eo=n(89917);let el=()=>{var e,t,n;let{data:i}=(0,eo.f)(),{state:{swapAmount:r,swapAmountString:v,chainId0:x}}=(0,G.w)(),{data:g}=(0,G.E)(),[p,f]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{3>=(0,m.oX)(null==g?void 0:g.priceImpact)&&f(!1)},[g]),(0,a.jsxs)(er,{children:[(0,a.jsx)("div",{children:(0,a.jsx)(l.w1.Guard,{guardWhen:i,guardText:"Maintenance in progress",children:(0,a.jsx)(l.w1.Connect,{fullWidth:!0,children:(0,a.jsx)(l.w1.Network,{fullWidth:!0,chainId:x,children:(0,a.jsx)(l.w1.Amounts,{fullWidth:!0,chainId:x,amounts:[r],children:(0,a.jsx)(l.w1.ApproveERC20,{id:"approve-erc20",fullWidth:!0,amount:r,contract:c.SUSHIXSWAP_2_ADDRESS[x],children:(0,a.jsx)(l.w1.Success,{tag:u.aZ,children:(0,a.jsx)(s.DialogTrigger,{asChild:!0,children:(0,a.jsx)(o.zx,{disabled:!!(!(null==g?void 0:null===(e=g.amountOut)||void 0===e?void 0:e.greaterThan(h.ZERO))||(null==g?void 0:null===(t=g.route)||void 0===t?void 0:t.status)==="NoWay"||0==+v||!p&&(0,m.oX)(null==g?void 0:g.priceImpact)>3),color:(0,m.oX)(null==g?void 0:g.priceImpact)>=3?"red":"blue",fullWidth:!0,size:"xl",testId:"swap",children:!p&&(0,m.oX)(null==g?void 0:g.priceImpact)>=3?"Price impact too high":(null==g?void 0:null===(n=g.route)||void 0===n?void 0:n.status)==="NoWay"?"No trade found":"Swap"})})})})})})})})}),(0,m.oX)(null==g?void 0:g.priceImpact)>3&&(0,a.jsxs)("div",{className:"flex items-start px-4 py-3 mt-4 rounded-xl bg-red/20",children:[(0,a.jsx)("input",{id:"expert-checkbox",type:"checkbox",checked:p,onChange:e=>f(e.target.checked),className:"cursor-pointer mr-1 w-5 h-5 mt-0.5 text-red-600 !ring-red-600 bg-white border-red rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2"}),(0,a.jsx)("label",{htmlFor:"expert-checkbox",className:"ml-2 font-medium text-red-600",children:"Price impact is too high. You will lose a big portion of your funds in this trade. Please tick the box if you would like to continue."})]})]})}},83297:function(e,t,n){"use strict";n.d(t,{CrossChainSwapTradeStats:function(){return S}});var i=n(13898),r=n(43981),a=n.n(r),s=n(888),o=n(75942),l=n(73133),d=n(21362),u=n(5912),c=n(70312),h=n(43429);n(73620);var m=n(22335),v=n(53003),x=n(99119),g=n(79436),p=n(57583),f=n(84904),b=n(76316);let S=()=>{var e,t,n,r,S,w,j,A,y,k,T,E,I,N,C;let{address:P}=(0,c.mAM)(),{state:{chainId0:R,chainId1:D,swapAmountString:_,recipient:O}}=(0,b.w)(),{isInitialLoading:B,data:q}=(0,b.E)(),F=!!(B&&!(null==q?void 0:q.writeArgs));return(0,i.jsx)(l.z,{open:+_>0&&(null==q?void 0:null===(e=q.route)||void 0===e?void 0:e.status)!=="NoWay",children:(0,i.jsxs)("div",{className:"w-full px-2 flex flex-col gap-1",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[(0,i.jsx)("span",{className:"text-sm text-gray-700 dark:text-slate-400",children:"Price impact"}),(0,i.jsx)("span",{className:a()((0,f.d4)((0,f.oX)(null==q?void 0:q.priceImpact)),"text-sm font-semibold text-gray-700 text-right dark:text-slate-400"),children:!F&&(null==q?void 0:q.priceImpact)?(null==q?void 0:q.priceImpact)?"".concat((null==q?void 0:null===(t=q.priceImpact)||void 0===t?void 0:t.lessThan(g.ZERO))?"+":(null==q?void 0:null===(n=q.priceImpact)||void 0===n?void 0:n.greaterThan(g.ZERO))?"-":"").concat(Math.abs(Number(null==q?void 0:null===(r=q.priceImpact)||void 0===r?void 0:r.toFixed(2))),"%"):null:(0,i.jsx)(u.nN,{className:"h-4 py-0.5 w-[40px]"})})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[(0,i.jsx)("span",{className:"text-sm text-gray-700 dark:text-slate-400",children:"Est. received"}),(0,i.jsx)("span",{className:"text-sm font-semibold text-gray-700 text-right dark:text-slate-400",children:!F&&(null==q?void 0:q.amountOut)?"".concat(null!==(E=null==q?void 0:null===(S=q.amountOut)||void 0===S?void 0:S.toSignificant(6))&&void 0!==E?E:"0.00"," ").concat(null!==(I=null==q?void 0:null===(j=q.amountOut)||void 0===j?void 0:null===(w=j.currency)||void 0===w?void 0:w.symbol)&&void 0!==I?I:""):(0,i.jsx)(u.nN,{className:"h-4 py-0.5 w-[120px]"})})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[(0,i.jsx)("span",{className:"text-sm text-gray-700 dark:text-slate-400",children:"Min. received"}),(0,i.jsx)("span",{className:"text-sm font-semibold text-gray-700 text-right dark:text-slate-400",children:!F&&(null==q?void 0:q.minAmountOut)?"".concat(null!==(N=null==q?void 0:null===(A=q.minAmountOut)||void 0===A?void 0:A.toSignificant(6))&&void 0!==N?N:"0.00"," ").concat(null!==(C=null==q?void 0:null===(k=q.amountOut)||void 0===k?void 0:null===(y=k.currency)||void 0===y?void 0:y.symbol)&&void 0!==C?C:""):(0,i.jsx)(u.nN,{className:"h-4 py-0.5 w-[100px]"})})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm text-gray-700 dark:text-slate-400",children:"Network fee"}),(0,i.jsx)("span",{className:"text-sm font-semibold text-gray-700 text-right dark:text-slate-400",children:!F&&(null==q?void 0:q.gasSpent)&&"0"!==q.gasSpent?(null==q?void 0:q.gasSpent)?(0,i.jsx)(s.TooltipProvider,{children:(0,i.jsxs)(s.Tooltip,{delayDuration:0,children:[(0,i.jsx)(s.TooltipTrigger,{asChild:!0,children:(0,i.jsxs)("span",{className:"underline decoration-dotted flex items-center justify-end gap-1 text-sm text-gray-900 dark:text-slate-50",children:[q.gasSpent," ",v.Native.onChain(R).symbol]})}),(0,i.jsx)(o.Portal,{children:(0,i.jsxs)(o.Content,{sideOffset:4,className:"border border-accent max-h-[var(--radix-popper-available-height)] z-50 w-80 bg-white/50 dark:bg-slate-800/50 paper rounded-xl p-4 shadow-md outline-none animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 text-sm gap-3",children:[(0,i.jsxs)("div",{className:"flex justify-between space-x-3 font-bold",children:[(0,i.jsx)("div",{children:"Network Fee"}),(0,i.jsxs)("div",{children:[q.gasSpent," ",v.Native.onChain(R).symbol]})]}),(0,i.jsxs)("div",{className:"flex justify-between space-x-3 pl-6",children:[(0,i.jsx)("div",{className:"font-semibold",children:"on Origin Chain"}),(0,i.jsxs)("div",{className:"font-bold",children:[q.srcGasFee," ",v.Native.onChain(R).symbol]})]}),(0,i.jsxs)("div",{className:"flex justify-between space-x-3 pl-6",children:[(0,i.jsx)("div",{className:"font-semibold",children:"on Dest. Chain"}),(0,i.jsxs)("div",{className:"font-bold",children:[q.bridgeFee," ",v.Native.onChain(R).symbol]})]})]})})]})}):null:(0,i.jsx)(u.nN,{className:"h-4 py-0.5 w-[120px]"})})]}),O&&(0,p.U)(O)&&(0,i.jsxs)("div",{className:"flex justify-between items-center border-t border-gray-200 dark:border-slate-200/5 mt-2 pt-2",children:[(0,i.jsx)("span",{className:"font-medium text-sm text-gray-700 dark:text-slate-300",children:"Recipient"}),(0,i.jsx)("span",{className:"font-semibold text-gray-700 text-right dark:text-slate-400",children:(0,i.jsxs)("a",{target:"_blank",href:null===(T=m.Chain.from(D))||void 0===T?void 0:T.getAccountUrl(O),className:a()(P!==O?"text-yellow-600":"text-gray-700 dark:text-slate-300","transition-all flex gap-1 items-center"),rel:"noreferrer",children:[(0,i.jsx)(h.F,{address:O,children:e=>{let{isLoading:t,data:n}=e;return(0,i.jsx)(i.Fragment,{children:t||!n?(0,x.shortenAddress)(O):n})}}),P!==O&&(0,i.jsx)(d.c,{children:"Recipient is different from the connected wallet address. If this is expected, ignore this warning."})]})})]})]})})}},76316:function(e,t,n){"use strict";n.d(t,{DerivedstateCrossChainSwapProvider:function(){return F},E:function(){return H},w:function(){return L}});var i=n(13898),r=n(49372),a=n(70312),s=n(27296),o=n(67852),l=n(73620),d=n(49980),u=n(7027),c=n(21322),h=n(41875),m=n(57536),v=n(95799),x=n(53003),g=n(79436),p=n(21222),f=n(69057),b=n(14744),S=n(21077);let w=(e,t)=>{let{data:n}=(0,S.I)();return(0,c.a)({queryKey:["squidRoute",e],queryFn:async()=>{let t=await (null==n?void 0:n.getRoute(e));return null==t?void 0:t.route},enabled:t&&!!(n&&e),refetchInterval:1e4,retry:!1})},j=e=>{let{network0:t,network1:n,token0:i,token1:r,amount:s,slippagePercentage:o,recipient:S,enabled:j,tradeId:y}=e,{data:k}=(0,a.Fh$)({chainId:t,query:{enabled:j}}),{data:T}=(0,a.Fh$)({chainId:n,query:{enabled:j}}),{address:E}=(0,a.mAM)(),{bridgePath:I,isSrcSwap:N,isDstSwap:C}=(0,l.useMemo)(()=>{let e=(0,v.isSquidAdapterChainId)(t)&&(0,v.isSquidAdapterChainId)(n)?{srcBridgeToken:x.axlUSDC[t],dstBridgeToken:x.axlUSDC[n]}:void 0,a=!!(i&&(null==e?void 0:e.srcBridgeToken)&&!i.equals(e.srcBridgeToken)),s=!!(r&&(null==e?void 0:e.dstBridgeToken)&&!r.equals(e.dstBridgeToken));return{bridgePath:e,isSrcSwap:a,isDstSwap:s}},[t,n,i,r]),{data:P}=(0,u.lZ)({chainId:t,fromToken:i,toToken:null==I?void 0:I.srcBridgeToken,amount:s,slippagePercentage:o,gasPrice:k,recipient:v.SQUID_ROUTER_ADDRESS[t],enabled:j&&N&&d.pS[t]&&!!s,carbonOffset:!1,source:p.RouterLiquiditySource.XSwap,onError:()=>{h.log.error("xswap src swap api error")}}),{data:R}=(0,u.lZ)({chainId:n,amount:N?null==P?void 0:P.minAmountOut:s,fromToken:null==I?void 0:I.dstBridgeToken,toToken:r,slippagePercentage:o,gasPrice:T,recipient:S,enabled:j&&C&&d.pS[n]&&!!(N?null==P?void 0:P.minAmountOut:s),carbonOffset:!1,source:p.RouterLiquiditySource.XSwap,onError:()=>{h.log.error("xswap dst swap api error")}}),{data:D,error:_}=w((0,l.useMemo)(()=>j?(0,d.Cr)({token0:i,token1:r,amount:s,fromAddress:E,toAddress:S,bridgePath:I,slippagePercentage:o,isSrcSwap:N,isDstSwap:C,srcTrade:P,dstTrade:R}):void 0,[j,i,r,s,E,S,I,o,N,C,P,R]),j);return(0,c.a)({queryKey:["squidCrossChainTrade",{tradeId:y,token0:i,token1:r,network0:t,network1:n,amount:s,slippagePercentage:o,recipient:S,srcTrade:P,dstTrade:R,bridgePath:I,squidRoute:D,squidError:_}],queryFn:async()=>{var e,n,a,o,l,u;let c,h;if(_||!I)return{amountIn:s,route:{status:"NoWay"}};if(!(D&&i&&r&&s&&I&&k&&T))throw Error("useCrossChainTrade should not be enabled");let{srcBridgeToken:p,dstBridgeToken:b}=I,w=C&&(null==R?void 0:R.amountOut)?R.amountOut:x.Amount.fromRawAmount(r,D.estimate.toAmount),j=C&&(null==R?void 0:R.minAmountOut)?R.minAmountOut:x.Amount.fromRawAmount(r,D.estimate.toAmountMin),y=g.ZERO_PERCENT;if(N&&(null==P?void 0:P.priceImpact)&&(y=y.add(P.priceImpact)),C&&(null==R?void 0:R.priceImpact)&&(y=y.add(R.priceImpact)),y=y.add(new g.Percent(Math.round(100*Number(D.estimate.aggregatePriceImpact)),1e4)),!S)return{priceImpact:y,amountIn:s,amountOut:w,minAmountOut:j};let E=N||C?N&&!C?d.iU.SwapAndBridge:!N&&C?d.iU.BridgeAndSwap:d.iU.CrossChainSwap:d.iU.Bridge;if(N&&(null==P?void 0:P.writeArgs)){let e=(0,d.dG)(P.writeArgs),n=(0,d.sZ)(null===(a=D.transactionRequest)||void 0===a?void 0:a.data),i=n.args&&n.args.length>1?[n.args[0],0,...n.args.slice(2)]:void 0;h="swapAndBridge",c=[(0,d.a)({adapter:v.SQUID_ADAPTER_ADDRESS[t],amountIn:s,to:S,adapterData:(0,d.E$)({srcBridgeToken:p,callData:(0,f.R)({abi:m.squidRouterAbi,functionName:n.functionName,args:i})})}),S,e,"0x","0x"]}else h="bridge",c=[(0,d.a)({adapter:v.SQUID_ADAPTER_ADDRESS[t],amountIn:s,to:S,adapterData:(0,d.E$)({srcBridgeToken:p,callData:null===(o=D.transactionRequest)||void 0===o?void 0:o.data})}),S,"0x","0x"];let O=11n*D.estimate.feeCosts.reduce((e,t)=>e+BigInt(t.amount),0n)/10n,B=x.Amount.fromRawAmount(x.Native.onChain(t),O),q=s.currency.isNative?BigInt(s.quotient)+BigInt(O):BigInt(O),F=BigInt(null!==(l=null===(e=D.transactionRequest)||void 0===e?void 0:e.gasLimit)&&void 0!==l?l:0)+BigInt(null!==(u=null==P?void 0:null===(n=P.route)||void 0===n?void 0:n.gasSpent)&&void 0!==u?u:0),L=x.Amount.fromRawAmount(x.Native.onChain(t),F*k),H=L.add(B);return{transactionType:E,srcTrade:N?null!=P?P:{route:{legs:[{poolName:"Squid",tokenFrom:A(i),tokenTo:A(p),absolutePortion:1}]}}:void 0,dstTrade:C?null!=R?R:{route:{legs:[{poolName:"Squid",tokenFrom:A(b),tokenTo:A(r),absolutePortion:1}]}}:void 0,srcBridgeToken:p,dstBridgeToken:b,priceImpact:y,amountIn:s,amountOut:w,minAmountOut:j,gasSpent:H.toFixed(6),bridgeFee:B.toFixed(6),srcGasFee:L.toFixed(6),writeArgs:c,route:{status:""},functionName:h,value:q}},refetchOnWindowFocus:!0,refetchInterval:1e4,keepPreviousData:!!s,cacheTime:0,enabled:j&&!!(i&&r&&s&&(D||_||!I)),queryKeyHashFn:b.P})};function A(e){return e instanceof x.Token?e:{address:"",name:e.name,symbol:e.symbol,chainId:e.chainId,decimals:18}}var y=n(10953),k=n(35109),T=n(94522),E=n(58791),I=n(55926);let N=e=>{let{srcChainId:t,srcBridgeToken:n,dstChainId:i,dstBridgeToken:r,enabled:s=!1}=e,o=(0,E.NL)(),d=(0,a.NuX)({contracts:(0,l.useMemo)(()=>{var e;return n&&r?[{address:v.STARGATE_POOL_ADDRESS[t][n.isNative?v.STARGATE_ETH_ADDRESS[t]:n.address],functionName:"getChainPath",args:[v.STARGATE_CHAIN_ID[i],BigInt(null!==(e=v.STARGATE_POOL_ID[i][r.isNative?v.STARGATE_ETH_ADDRESS[i]:r.address])&&void 0!==e?e:0)],abi:m.stargatePoolAbi,chainId:t},{address:v.STARGATE_POOL_ADDRESS[t][n.isNative?v.STARGATE_ETH_ADDRESS[t]:n.address],functionName:"feeLibrary",abi:m.stargatePoolAbi,chainId:t},{address:v.STARGATE_POOL_ADDRESS[t][n.isNative?v.STARGATE_ETH_ADDRESS[t]:n.address],functionName:"sharedDecimals",abi:m.stargatePoolAbi,chainId:t}]:void 0},[t,n,i,r]),query:{enabled:!!(s&&n&&r)}}),{data:u}=(0,a.OvB)({chainId:t,watch:!0});return(0,l.useEffect)(()=>{u&&o.invalidateQueries(d.queryKey,{},{cancelRefetch:!1})},[u,d.queryKey,o]),d},C=e=>{var t,n,i,r;let{amount:s,srcChainId:o,srcBridgeToken:d,dstChainId:u,dstBridgeToken:c,enabled:h=!1}=e,{data:g}=N({srcChainId:o,srcBridgeToken:d,dstChainId:u,dstBridgeToken:c,enabled:h}),p=(0,l.useMemo)(()=>{var e;if(!s||!(null==g?void 0:null===(e=g[2])||void 0===e?void 0:e.result))return;let t=BigInt(s.currency.decimals),n=g[2].result;return t===n?s:t>n?s.asFraction.divide(10n**(t-n)):s.asFraction.multiply(10n**(n-t))},[s,g]),f=(0,E.NL)(),b=(0,a.uTC)({address:null!==(r=null==g?void 0:null===(t=g[1])||void 0===t?void 0:t.result)&&void 0!==r?r:I.D,functionName:"getFees",args:(0,l.useMemo)(()=>{var e,t,n;return d&&c?[BigInt(null!==(e=v.STARGATE_POOL_ID[o][d.isNative?v.STARGATE_ETH_ADDRESS[o]:d.address])&&void 0!==e?e:0),BigInt(null!==(t=v.STARGATE_POOL_ID[u][c.isNative?v.STARGATE_ETH_ADDRESS[u]:c.address])&&void 0!==t?t:0),v.STARGATE_CHAIN_ID[u],v.STARGATE_ADAPTER_ADDRESS[o],BigInt(null!==(n=null==p?void 0:p.quotient)&&void 0!==n?n:0)]:void 0},[o,d,u,c,p]),abi:m.stargateFeeLibraryV03Abi,chainId:o,query:{enabled:!!(h&&p&&d&&c&&(null==g?void 0:null===(n=g[1])||void 0===n?void 0:n.result)&&(null==g?void 0:null===(i=g[2])||void 0===i?void 0:i.result)),select(e){var t,n;if(!s||!e||!(null==g?void 0:null===(t=g[1])||void 0===t?void 0:t.result)||!(null==g?void 0:null===(n=g[2])||void 0===n?void 0:n.result)||!d||!c)return;let i=BigInt(s.currency.decimals),r=g[2].result,{eqFee:a,eqReward:o,lpFee:l,protocolFee:u}=e;return i===r?[x.Amount.fromRawAmount(d,a),x.Amount.fromRawAmount(d,o),x.Amount.fromRawAmount(d,l),x.Amount.fromRawAmount(d,u)]:[x.Amount.fromRawAmount(d,i>r?a*10n**(i-r):a/10n**(r-i)),x.Amount.fromRawAmount(d,i>r?o*10n**(i-r):o/10n**(r-i)),x.Amount.fromRawAmount(d,i>r?l*10n**(i-r):l/10n**(r-i)),x.Amount.fromRawAmount(d,i>r?u*10n**(i-r):u/10n**(r-i))]}}}),{data:S}=(0,a.OvB)({chainId:o,watch:!0});return(0,l.useEffect)(()=>{S&&f.invalidateQueries(b.queryKey,{},{cancelRefetch:!1})},[S,f,b.queryKey]),b},P=e=>{let{network0:t,network1:n,token0:i,token1:r,amount:s,slippagePercentage:o,recipient:f,enabled:S,tradeId:w}=e,j=(0,a.t_S)({chainId:t}),{data:A}=(0,a.Fh$)({chainId:t,query:{enabled:S}}),{data:E}=(0,a.Fh$)({chainId:n,query:{enabled:S}}),I=(0,l.useMemo)(()=>S&&i&&r?(0,d.Pg)(i,r):void 0,[S,i,r]),N=!!(i&&(null==I?void 0:I.srcBridgeToken)&&!i.equals(I.srcBridgeToken)),P=!!(r&&(null==I?void 0:I.dstBridgeToken)&&!r.equals(I.dstBridgeToken)),{data:R}=(0,u.lZ)({chainId:t,fromToken:i,toToken:null==I?void 0:I.srcBridgeToken,amount:s,slippagePercentage:o,gasPrice:A,recipient:v.STARGATE_ADAPTER_ADDRESS[t],enabled:!!(N&&S&&s),carbonOffset:!1,source:p.RouterLiquiditySource.XSwap,onError:()=>{h.log.error("xswap src swap api error")}}),{data:D}=C({amount:N?null==R?void 0:R.amountOut:s,srcChainId:t,dstChainId:n,srcBridgeToken:null==I?void 0:I.srcBridgeToken,dstBridgeToken:null==I?void 0:I.dstBridgeToken,enabled:!!(I&&S)}),{srcAmountOut:_,srcAmountOutMin:O,dstAmountIn:B,dstAmountInMin:q,bridgeImpact:F}=(0,l.useMemo)(()=>{if(!s||!D||!I||N&&(!(null==R?void 0:R.amountOut)||!(null==R?void 0:R.minAmountOut)))return{srcAmountOut:void 0,srcAmountOutMin:void 0,dstAmountIn:void 0,dstAmountInMin:void 0,bridgeImpact:void 0};let[e,t,n,i]=D,r=e.subtract(t).add(n).add(i),a=(N?null==R?void 0:R.minAmountOut:s).subtract(r),o=a.multiply(new g.Fraction(g.ONE).add(d.Hx).invert()),l=x.Amount.fromRawAmount(I.dstBridgeToken,(0,y.v)(a.toExact(),I.dstBridgeToken.decimals)),u=x.Amount.fromRawAmount(I.dstBridgeToken,(0,y.v)(o.toExact(),I.dstBridgeToken.decimals));return{srcAmountOut:a,srcAmountOutMin:o,dstAmountIn:l,dstAmountInMin:u,bridgeImpact:new g.Percent(r.quotient,r.equalTo(0)?1:(N?null==R?void 0:R.minAmountOut:s).quotient)}},[D,I,N,null==R?void 0:R.minAmountOut,null==R?void 0:R.amountOut,s]),{data:L}=(0,u.lZ)({chainId:n,amount:B,fromToken:null==I?void 0:I.dstBridgeToken,toToken:r,slippagePercentage:o,gasPrice:E,recipient:f,enabled:!!(P&&S&&B),carbonOffset:!1,source:p.RouterLiquiditySource.XSwap,onError:()=>{h.log.error("xswap dst swap api error")}});return(0,c.a)({queryKey:["crossChainTrade",{tradeId:w,token0:i,token1:r,network0:t,network1:n,amount:s,slippagePercentage:o,recipient:f,srcTrade:R,dstTrade:L,client:j}],queryFn:async()=>{var e,a,o,l,u,c,h,p;let b,S,w,y;if(!(i&&r&&s&&I&&D&&F&&B&&A&&E))throw Error("useCrossChainTrade should not be enabled");let{srcBridgeToken:C,dstBridgeToken:_}=I,H=P?null==L?void 0:L.amountOut:B,U=P?null==L?void 0:L.minAmountOut:q,M=F;if(N&&(M=M.add(null!==(a=null==R?void 0:R.priceImpact)&&void 0!==a?a:0)),P&&(M=M.add(null!==(o=null==L?void 0:L.priceImpact)&&void 0!==o?o:0)),!f)return{priceImpact:M,amountIn:s,amountOut:H,minAmountOut:U};let z=g.ZERO;if(N||P){if(N&&!P&&(null==R?void 0:R.writeArgs)){let e=(0,d.dG)(R.writeArgs);y=d.iU.SwapAndBridge,S="swapAndBridge",b=[(0,d.a)({adapter:v.STARGATE_ADAPTER_ADDRESS[t],amountIn:s,to:f,adapterData:(0,d.I)({srcBridgeToken:C,dstBridgeToken:_,amount:0,amountMin:O.quotient,dustAmount:0,receiver:f,to:f,dstGas:z})}),f,e,"0x","0x"]}else if(!N&&P&&(null==L?void 0:L.writeArgs)){let e=(0,d.dG)(L.writeArgs);z=(0,d.yH)(null!==(u=null===(l=L.route)||void 0===l?void 0:l.gasSpent)&&void 0!==u?u:0),w=(0,k.E)((0,T.n)("address, bytes, bytes"),[f,e,"0x"]),y=d.iU.BridgeAndSwap,S="bridge",b=[(0,d.a)({adapter:v.STARGATE_ADAPTER_ADDRESS[t],amountIn:s,to:f,adapterData:(0,d.I)({srcBridgeToken:C,dstBridgeToken:_,amount:s.quotient,amountMin:O.quotient,dustAmount:0,receiver:v.STARGATE_ADAPTER_ADDRESS[n],to:f,dstGas:z})}),f,e,"0x"]}else if(N&&P&&(null==R?void 0:R.writeArgs)&&(null==L?void 0:L.writeArgs)){let e=(0,d.dG)(R.writeArgs),i=(0,d.dG)(L.writeArgs);w=(0,k.E)((0,T.n)("address, bytes, bytes"),[f,i,"0x"]),z=(0,d.yH)(null!==(h=null===(c=L.route)||void 0===c?void 0:c.gasSpent)&&void 0!==h?h:0),y=d.iU.CrossChainSwap,S="swapAndBridge",b=[(0,d.a)({adapter:v.STARGATE_ADAPTER_ADDRESS[t],amountIn:s,to:f,adapterData:(0,d.I)({srcBridgeToken:C,dstBridgeToken:_,amount:0,amountMin:O.quotient,dustAmount:0,receiver:v.STARGATE_ADAPTER_ADDRESS[n],to:f,dstGas:z})}),f,e,i,"0x"]}else throw Error("Crosschain swap not found.")}else y=d.iU.Bridge,S="bridge",b=[(0,d.a)({adapter:v.STARGATE_ADAPTER_ADDRESS[t],amountIn:s,to:f,adapterData:(0,d.I)({srcBridgeToken:C,dstBridgeToken:_,amount:s.quotient,amountMin:O.quotient,dustAmount:0,receiver:f,to:f,dstGas:z})}),f,"0x","0x"];let[G]=await j.readContract({address:v.STARGATE_ADAPTER_ADDRESS[t],abi:m.stargateAdapterAbi,functionName:"getFee",args:[v.STARGATE_CHAIN_ID[n],1,P?v.STARGATE_ADAPTER_ADDRESS[n]:f,z,0n,P?w:"0x"]});G=5n*G/4n;let W=s.currency.isNative?BigInt(s.quotient)+G:G,V=500000n+BigInt(null!==(p=null==R?void 0:null===(e=R.route)||void 0===e?void 0:e.gasSpent)&&void 0!==p?p:0),K=x.Amount.fromRawAmount(x.Native.onChain(t),V*A),Z=x.Amount.fromRawAmount(x.Native.onChain(t),G);return{transactionType:y,srcTrade:R,dstTrade:L,srcBridgeToken:C,dstBridgeToken:_,priceImpact:M,amountIn:s,amountOut:H,minAmountOut:U,gasSpent:K.add(Z).toFixed(6),bridgeFee:Z.toFixed(6),srcGasFee:K.toFixed(6),writeArgs:b,route:{status:""},functionName:S,value:W}},refetchOnWindowFocus:!0,refetchInterval:1e4,keepPreviousData:!!s,cacheTime:0,enabled:S&&!!(t&&n&&i&&r&&s&&D&&I&&A&&E)&&(N?!!(null==R?void 0:R.writeArgs):!!_)&&(P?!!(null==L?void 0:L.writeArgs):!!B),queryKeyHashFn:b.P})};var R=n(22335),D=n(57583);let _=e=>"string"==typeof e?e:e.isNative?"NATIVE":e.wrapped.address,O=e=>_(v.defaultCurrency[e]),B=e=>_(v.defaultQuoteCurrency[e]),q=(0,l.createContext)({}),F=e=>{let{children:t}=e,{push:n}=(0,o.useRouter)(),r=(0,a.xxU)(),{address:u}=(0,a.mAM)(),c=(0,o.usePathname)(),h=(0,o.useSearchParams)(),[m,g]=(0,l.useState)((0,s.x0)()),p=(0,l.useMemo)(()=>{let e=new URLSearchParams(Array.from(h.entries()));return e.has("chainId0")||e.set("chainId0",((0,v.isSushiXSwap2ChainId)(r)?r:R.ChainId.ETHEREUM).toString()),e.has("chainId1")||e.set("chainId1",e.get("chainId0")===R.ChainId.ARBITRUM.toString()?R.ChainId.ETHEREUM.toString():R.ChainId.ARBITRUM.toString()),e.has("token0")||e.set("token0",O(Number(e.get("chainId0")))),e.has("token1")||e.set("token1",B(Number(e.get("chainId1")))),e},[r,h]),f=(0,l.useCallback)(e=>{let t=new URLSearchParams(p);return e.forEach(e=>{let{name:n,value:i}=e;null===i?t.delete(n):t.set(n,i)}),t.toString()},[p]),b=(0,l.useCallback)(()=>{let e=new URLSearchParams(p),t=e.get("chainId0"),i=e.get("chainId1"),r=e.get("token0"),a=e.get("token1");e.set("token0",a),e.set("token1",r),e.set("chainId0",i),e.set("chainId1",t),e.has("swapAmount")&&e.delete("swapAmount"),n("".concat(c,"?").concat(e.toString()),{scroll:!1})},[c,n,p]),S=(0,l.useCallback)(e=>{p.get("chainId1")===e.toString()?b():n("".concat(c,"?").concat(f([{name:"swapAmount",value:null},{name:"chainId0",value:e.toString()},{name:"token0",value:O(T)}])),{scroll:!1})},[f,p,c,n,b]),w=(0,l.useCallback)(e=>{p.get("chainId0")===e.toString()?b():n("".concat(c,"?").concat(f([{name:"swapAmount",value:null},{name:"chainId1",value:e.toString()},{name:"token1",value:B(e)}])),{scroll:!1})},[f,p,c,n,b]),j=(0,l.useCallback)(e=>{let t=_(e);n("".concat(c,"?").concat(f([{name:"token0",value:t}])),{scroll:!1})},[f,c,n]),A=(0,l.useCallback)(e=>{let t=_(e);n("".concat(c,"?").concat(f([{name:"token1",value:t}])),{scroll:!1})},[f,c,n]),y=(0,l.useCallback)((e,t)=>{let i=_(e),r=_(t);n("".concat(c,"?").concat(f([{name:"token0",value:i},{name:"token1",value:r}])),{scroll:!1})},[f,c,n]),k=(0,l.useCallback)(e=>{n("".concat(c,"?").concat(f([{name:"swapAmount",value:e}])),{scroll:!1})},[f,c,n]),T=Number(p.get("chainId0")),E=Number(p.get("chainId1")),{data:I,isInitialLoading:N}=(0,a.Eyd)({chainId:T,address:p.get("token0"),enabled:(0,D.U)(p.get("token0")),keepPreviousData:!1}),{data:C,isInitialLoading:P}=(0,a.Eyd)({chainId:E,address:p.get("token1"),enabled:(0,D.U)(p.get("token1")),keepPreviousData:!1}),F=(0,v.isStargateAdapterChainId)(T)&&(0,v.isStargateAdapterChainId)(E)?d.E.Stargate:(0,v.isSquidAdapterChainId)(T)&&(0,v.isSquidAdapterChainId)(E)?d.E.Squid:void 0,L=(0,a.ZRo)();return(0,l.useEffect)(()=>{let e=(0,a.uHd)(L,{onChange:e=>{let{chain:t}=e;t&&t.id!==T&&(0,v.isSushiXSwap2ChainId)(t.id)&&n(c,{scroll:!1})}});return()=>e()},[L,T,c,n]),(0,i.jsx)(q.Provider,{value:(0,l.useMemo)(()=>{let e=p.get("swapAmount")||"",t="NATIVE"===p.get("token0")?x.Native.onChain(T):I,n="NATIVE"===p.get("token1")?x.Native.onChain(E):C;return{mutate:{setChainId0:S,setChainId1:w,setToken0:j,setToken1:A,setTokens:y,setTradeId:g,switchTokens:b,setSwapAmount:k},state:{tradeId:m,recipient:null!=u?u:"",chainId0:T,chainId1:E,swapAmountString:e,swapAmount:(0,x.tryParseAmount)(e,t),token0:t,token1:n,adapter:F},isLoading:N||P,isToken0Loading:N,isToken1Loading:P}},[u,T,E,p,S,w,k,j,A,y,b,I,N,C,P,m,F]),children:t})},L=()=>{let e=(0,l.useContext)(q);if(!e)throw Error("Hook can only be used inside CrossChain Swap Derived State Context");return e},H=()=>{let{state:{tradeId:e,token0:t,chainId0:n,chainId1:i,swapAmount:a,token1:s,recipient:o,adapter:l}}=L(),[u]=(0,r.useSlippageTolerance)(),c=P({tradeId:e,network0:n,network1:i,token0:t,token1:s,amount:a,slippagePercentage:"AUTO"===u?"0.1":u,recipient:o,enabled:!!(l===d.E.Stargate&&(null==a?void 0:a.greaterThan(g.ZERO)))}),h=j({tradeId:e,network0:n,network1:i,token0:t,token1:s,amount:a,slippagePercentage:"AUTO"===u?"0.5":u,recipient:o,enabled:!!(l!==d.E.Stargate&&(null==a?void 0:a.greaterThan(g.ZERO)))});return l===d.E.Stargate?c:h}},89917:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var i=n(21322),r=n(11571);let a=()=>{let{maintenance:e}=(0,r.R)();return(0,i.a)({queryKey:["cross-chain-swap-maintenance"],queryFn:async()=>{let e=await fetch("/api/config/xswap",{next:{revalidate:60}}),t=await e.json();return!!t.success&&!!t.data&&t.data.maintenance},initialData:e,refetchInterval:6e4})}},78638:function(e,t,n){"use strict";n.d(t,{SwapModeButtons:function(){return c}});var i=n(13898),r=n(49372),a=n(20247),s=n(39785),o=n(70425),l=n(63269),d=n(27732),u=n(74090);let c=()=>{let[e]=(0,r.useLocalStorage)("xswap-banner-minimized",!1);return(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(d.default,{href:"/swap",children:(0,i.jsx)(u.PathnameButton,{pathname:"/swap",size:"sm",children:"Swap"})}),e?(0,i.jsxs)(a.HoverCard,{children:[(0,i.jsx)(l.E.div,{layoutId:"container",children:(0,i.jsx)(l.E.div,{layout:!0,layoutId:"title",children:(0,i.jsx)(d.default,{href:"/swap/cross-chain",children:(0,i.jsx)(u.PathnameButton,{pathname:"/swap/cross-chain",size:"sm",children:(0,i.jsx)(a.HoverCardTrigger,{asChild:!0,children:(0,i.jsxs)("span",{className:"saturate-200 flex items-center gap-2 bg-gradient-to-r from-blue to-pink bg-clip-text text-transparent",children:[(0,i.jsx)(s.j,{width:20,height:20,className:"text-blue"}),"Cross Chain"]})})})})})}),(0,i.jsxs)(a.HoverCardContent,{className:"!p-0 max-w-[320px]",children:[(0,i.jsxs)(o.Ol,{children:[(0,i.jsx)(o.ll,{children:"Cross-chain Swap"}),(0,i.jsx)(o.SZ,{children:"Swap tokens natively across 14 chains including Ethereum, Arbitrum, Optimism, Polygon, Base and more!"})]}),(0,i.jsx)(o.aY,{children:(0,i.jsx)("a",{target:"_blank",className:"text-sm text-blue hover:underline",href:"https://www.sushi.com/blog/sushixswap-v2",rel:"noreferrer",children:"Learn more."})})]})]}):null]})}},31801:function(e,t,n){"use strict";n.d(t,{i:function(){return c}});var i=n(13898),r=n(61893),a=n(29167),s=n(73612),o=n(47365),l=n(73620),d=n(53003);let u=e=>{if(""===e.address||"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"===e.address||!e.address)return d.Native.onChain(Number(e.chainId));let t=e.chainId.toString().startsWith("Bento ")?Number(e.chainId.toString().split(" ")[1]):Number(e.chainId);return new d.Token({address:e.address,symbol:e.symbol,chainId:t,decimals:18})},c=e=>{var t,n;let{children:o,trade:l}=e;return(0,i.jsxs)(r.Dialog,{children:[(0,i.jsx)(r.DialogTrigger,{asChild:!0,children:o}),(0,i.jsxs)(r.DialogContent,{children:[(0,i.jsxs)(r.DialogHeader,{children:[(0,i.jsx)(r.DialogTitle,{children:"Route"}),(0,i.jsx)(r.DialogDescription,{children:"Our routing system automatically splits your trade across various pools to get you the best price."})]}),(0,i.jsx)(a.ScrollArea,{className:"bg-secondary border border-accent rounded-xl",children:(0,i.jsx)("div",{className:"flex flex-col max-h-[300px] divide-y divide-accent",children:null==l?void 0:null===(n=l.route)||void 0===n?void 0:null===(t=n.legs)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)(h,{fromToken:u(e.tokenFrom),toToken:u(e.tokenTo),poolType:e.poolType,poolFee:e.poolFee,portion:e.absolutePortion,title:"".concat(e.poolName)},t))})}),(0,i.jsx)(r.DialogFooter,{children:(0,i.jsx)(r.DialogClose,{className:"w-full",children:(0,i.jsx)(s.zx,{fullWidth:!0,size:"xl",children:"Close"})})})]})]})},h=e=>{let{fromToken:t,toToken:n,portion:r,title:a}=e,s=(0,l.useRef)(null),[d,u]=(0,l.useState)(0);return(0,l.useEffect)(()=>{s.current&&u(s.current.offsetWidth*Number(r))},[r]),(0,i.jsxs)("div",{ref:s,className:"p-3 relative grid grid-cols-12 gap-3 items-center",children:[(0,i.jsx)("div",{className:"absolute z-[0] inset-0 pointer-events-none bg-secondary",style:{width:d}}),(0,i.jsxs)("div",{className:"z-[1] font-medium col-span-4 text-sm flex items-center gap-2",children:[(0,i.jsx)(o.F.Icon,{disableLink:!0,currency:t,width:16,height:16}),(0,i.jsx)("span",{className:"truncate",children:t.symbol})]}),(0,i.jsxs)("div",{className:"flex flex-col col-span-4",children:[(0,i.jsxs)("div",{className:"z-[1] col-span-2 text-sm truncate",children:[Number(100*r).toFixed(2),"%"]}),(0,i.jsx)("div",{className:"z-[1] col-span-4 text-[10px] text-muted-foreground truncate",children:a})]}),(0,i.jsxs)("div",{className:"z-[1] font-medium col-span-4 text-sm flex items-center justify-end gap-2",children:[(0,i.jsx)(o.F.Icon,{disableLink:!0,currency:n,width:16,height:16}),(0,i.jsx)("span",{className:"text-sm truncate",children:n.symbol})]})]})}},39785:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var i=n(13898);let r=e=>(0,i.jsxs)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 256 256",children:[(0,i.jsx)("rect",{width:"256",height:"256",fill:"none"}),(0,i.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24",d:"M32,72H55.06445a64,64,0,0,1,52.079,26.80076l41.7132,58.39848A64,64,0,0,0,200.93555,184H232"}),(0,i.jsx)("polyline",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24",points:"208 48 232 72 208 96"}),(0,i.jsx)("polyline",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24",points:"208 160 232 184 208 208"}),(0,i.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24",d:"M152.76794 93.858A64.00219 64.00219 0 0 1 200.93555 72H232M32 184H55.06445a64.00212 64.00212 0 0 0 48.16769-21.85814"})]}))},43429:function(e,t,n){"use strict";n.d(t,{F:function(){return o}});var i=n(13898),r=n(73620),a=n(22335),s=n(37236);let o=e=>{var t;let{children:n,chainId:o=a.ChainId.ETHEREUM,...l}=e,d=(0,s.F)({...l,chainId:o});return((0,r.useEffect)(()=>{var e;d.data&&(null===(e=l.query)||void 0===e?void 0:e.onSuccess)&&l.query.onSuccess(d.data)},[null===(t=l.query)||void 0===t?void 0:t.onSuccess,d.data]),"function"==typeof n)?n(d):(0,i.jsx)(i.Fragment,{children:n})}}},function(e){e.O(0,[2152,2157,6299,8415,3481,8721,1700,1415,6432,8456,3996,1686,7402,703,47,4119,2913,1862,5537,9961,542,4907,6026,9861,5226,5320,1967,7526,9076,1875,7535,1893,5799,4210,6821,5603,7390,7186,6697,8012,8893,2562,7850,9082,1744],function(){return e(e.s=86743)}),_N_E=e.O()}]);
//# sourceMappingURL=page-1b977fca5c6f3329.js.map