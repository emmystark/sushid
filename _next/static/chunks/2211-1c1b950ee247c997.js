"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2211],{27967:function(e,t,n){n.d(t,{o:function(){return l}});var r=n(49372),i=n(73620),a=n(79436);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.SlippageToleranceStorageKey.Swap,[t,n]=(0,r.useLocalStorage)(e,.1);return(0,i.useMemo)(()=>[new a.Percent(Math.floor(100*Number("AUTO"===t?"0.1":t)),1e4),n],[t,n])}},37243:function(e,t,n){n.d(t,{ConcentratedLiquidityProvider:function(){return g},a6:function(){return C},d5:function(){return y},fv:function(){return R},mg:function(){return v}});var r=n(13898),i=n(70312),a=n(73620),l=n(4470),o=n(16093),s=n(95799),u=n(53003),c=n(99119),d=n(79436),m=n(34800);let p={independentField:l.gN.CURRENCY_A,independentRangeField:l.Mb.LOWER,typedValue:"",startPriceTypedValue:"",leftRangeTypedValue:"",rightRangeTypedValue:"",weightLockedCurrencyBase:void 0},h=(0,a.createContext)(p),x=(0,a.createContext)({}),f=(e,t)=>{switch(t.type){case"resetMintState":return p;case"setFullRange":return{...e,leftRangeTypedValue:!0,rightRangeTypedValue:!0};case"typeStartPriceInput":return{...e,startPriceTypedValue:t.typedValue};case"typeLeftRangeInput":return{...e,leftRangeTypedValue:t.typedValue};case"typeRightRangeInput":return{...e,rightRangeTypedValue:t.typedValue};case"typeInput":return{...e,independentField:t.field,typedValue:t.typedValue};case"setWeightLockedCurrencyBase":return{...e,weightLockedCurrencyBase:t.value};case"setIndependentRangeField":return{...e,independentRangeField:t.value}}},g=e=>{let{children:t}=e,[n,i]=(0,a.useReducer)(f,p),o=(0,a.useMemo)(()=>({resetMintState:()=>i({type:"resetMintState"}),setFullRange:()=>i({type:"setFullRange"}),onFieldAInput:(e,t)=>i({type:"typeInput",field:l.gN.CURRENCY_A,typedValue:e,noLiquidity:!0===t}),onFieldBInput:(e,t)=>i({type:"typeInput",field:l.gN.CURRENCY_B,typedValue:e,noLiquidity:!0===t}),onLeftRangeInput:e=>{i({type:"typeLeftRangeInput",typedValue:e})},onRightRangeInput:e=>{i({type:"typeRightRangeInput",typedValue:e})},onStartPriceInput:e=>i({type:"typeStartPriceInput",typedValue:e}),setWeightLockedCurrencyBase:e=>i({type:"setWeightLockedCurrencyBase",value:e}),setIndependentRangeField:e=>i({type:"setIndependentRangeField",value:e})}),[]);return(0,r.jsx)(x.Provider,{value:o,children:(0,r.jsx)(h.Provider,{value:n,children:t})})},R=()=>{let e=(0,a.useContext)(h);if(!e)throw Error("Hook can only be used Concentrated Liquidity Provider State Context");return e},y=()=>{let e=(0,a.useContext)(x);if(!e)throw Error("Hook can only be used Concentrated Liquidity Provider Actions Context");return e};function v(e){let t,{account:n,token0:r,token1:d,baseToken:p,chainId:h,feeAmount:x,existingPosition:f}=e,{independentField:g,independentRangeField:y,typedValue:v,leftRangeTypedValue:C,rightRangeTypedValue:k,startPriceTypedValue:b,weightLockedCurrencyBase:M}=R(),N=g===l.gN.CURRENCY_A?l.gN.CURRENCY_B:l.gN.CURRENCY_A,P=(0,a.useMemo)(()=>({[l.gN.CURRENCY_A]:r,[l.gN.CURRENCY_B]:d}),[r,d]),[S,E,j]=(0,a.useMemo)(()=>[null==r?void 0:r.wrapped,null==d?void 0:d.wrapped,null==p?void 0:p.wrapped],[r,d,p]),[w,U]=(0,a.useMemo)(()=>S&&E?S.sortsBefore(E)?[S,E]:[E,S]:[void 0,void 0],[S,E]),L=(0,i.je_)({chainId:h,token0:P[l.gN.CURRENCY_A],token1:P[l.gN.CURRENCY_B],feeAmount:x}),{data:T,isInitialLoading:_,isError:I}=L,A=!_&&!I&&!T,W=!!(j&&w&&!j.equals(w)),F=(0,a.useMemo)(()=>{if(!A)return T&&w?T.priceOf(w):void 0;{let t=(0,u.tryParseAmount)(b,W?w:U);if(t&&w&&U){var e;let n=(0,u.tryParseAmount)("1",W?U:w),r=n&&t?new u.Price(n.currency,t.currency,n.quotient,t.quotient):void 0;return null!==(e=W?null==r?void 0:r.invert():r)&&void 0!==e?e:void 0}return}},[A,b,W,U,w,T]),Y=(0,a.useMemo)(()=>{let e=F?(0,m.encodeSqrtRatioX96)(F.numerator,F.denominator):void 0;return F&&e&&!(e>=m.TickMath.MIN_SQRT_RATIO&&e<m.TickMath.MAX_SQRT_RATIO)},[F]),O=(0,a.useMemo)(()=>{if(S&&E&&x&&F&&!Y){let e=(0,m.priceToClosestTick)(F),t=m.TickMath.getSqrtRatioAtTick(e);return new m.SushiSwapV3Pool(S,E,x,t,0n,e,[])}},[x,Y,F,S,E]),q=null!=T?T:O,B=(0,a.useMemo)(()=>({[l.Mb.LOWER]:x?(0,m.nearestUsableTick)(m.TickMath.MIN_TICK,s.TICK_SPACINGS[x]):void 0,[l.Mb.UPPER]:x?(0,m.nearestUsableTick)(m.TickMath.MAX_TICK,s.TICK_SPACINGS[x]):void 0}),[x]),[V,z]=(0,a.useMemo)(()=>{if("number"==typeof M&&F&&""!==C&&""!==k){var e;let t=null===(e=(0,m.getPriceRangeWithTokenRatio)((0,m.priceToNumber)(W?F.invert():F),!0===C?1925929944387236e-49:Number(C),!0===k?5192296858534828e18:Number(k),y,M))||void 0===e?void 0:e.map(e=>(0,c.withoutScientificNotation)(e.toString()));if(t&&"string"==typeof t[0]&&"string"==typeof t[1])return[t[0],t[1]]}return[C,k]},[M,C,k,y,F,W]),D=(0,a.useMemo)(()=>({[l.Mb.LOWER]:"number"==typeof(null==f?void 0:f.tickLower)?f.tickLower:W&&!0===z||!W&&!0===V?B[l.Mb.LOWER]:W?(0,o.Lw)(U,w,x,z.toString()):(0,o.Lw)(w,U,x,V.toString()),[l.Mb.UPPER]:"number"==typeof(null==f?void 0:f.tickUpper)?f.tickUpper:W&&!0===V||!W&&!0===z?B[l.Mb.UPPER]:W?(0,o.Lw)(U,w,x,V.toString()):(0,o.Lw)(w,U,x,z.toString())}),[f,x,W,V,z,w,U,B]),{[l.Mb.LOWER]:G,[l.Mb.UPPER]:K}=D||{},H=(0,a.useMemo)(()=>({[l.Mb.LOWER]:x&&G===B.LOWER,[l.Mb.UPPER]:x&&K===B.UPPER}),[B,G,K,x]),Z=!!("number"==typeof G&&"number"==typeof K&&G>=K),X=(0,a.useMemo)(()=>({[l.Mb.LOWER]:(0,o.Ll)(w,U,B.LOWER),[l.Mb.UPPER]:(0,o.Ll)(w,U,B.UPPER)}),[w,U,B.LOWER,B.UPPER]),Q=(0,a.useMemo)(()=>({[l.Mb.LOWER]:(0,o.Ll)(w,U,D[l.Mb.LOWER]),[l.Mb.UPPER]:(0,o.Ll)(w,U,D[l.Mb.UPPER])}),[w,U,D]),{[l.Mb.LOWER]:J,[l.Mb.UPPER]:$}=Q,ee=!!(!Z&&F&&J&&$&&(F.lessThan(J)||F.greaterThan($))),et=(0,u.tryParseAmount)(v,P[g]),en=(0,a.useMemo)(()=>{let e=null==et?void 0:et.wrapped,t=N===l.gN.CURRENCY_B?d:r;if(et&&e&&"number"==typeof G&&"number"==typeof K&&q){if(ee||Z)return;let n=e.currency.equals(q.token0)?m.Position.fromAmount0({pool:q,tickLower:G,tickUpper:K,amount0:et.quotient,useFullPrecision:!0}):m.Position.fromAmount1({pool:q,tickLower:G,tickUpper:K,amount1:et.quotient}),r=e.currency.equals(q.token0)?n.amount1:n.amount0;return t&&u.Amount.fromRawAmount(t,r.quotient)}},[et,ee,N,d,r,G,K,q,Z]),er=(0,a.useMemo)(()=>({[l.gN.CURRENCY_A]:g===l.gN.CURRENCY_A?et:en,[l.gN.CURRENCY_B]:g===l.gN.CURRENCY_A?en:et}),[en,et,g]),ei=!!("number"==typeof K&&q&&q.tickCurrent>=K),ea=!!("number"==typeof G&&q&&q.tickCurrent<=G),el=Z||!!(ei&&q&&S&&q.token0.equals(S)||ea&&q&&S&&q.token1.equals(S)),eo=Z||!!(ei&&q&&E&&q.token0.equals(E)||ea&&q&&E&&q.token1.equals(E)),es=(0,a.useMemo)(()=>{var e,t;if(!q||!S||!E||"number"!=typeof G||"number"!=typeof K||Z)return;let n=ei?0n:null==er?void 0:null===(e=er[S.equals(q.token0)?l.gN.CURRENCY_A:l.gN.CURRENCY_B])||void 0===e?void 0:e.quotient,r=ea?0n:null==er?void 0:null===(t=er[S.equals(q.token0)?l.gN.CURRENCY_B:l.gN.CURRENCY_A])||void 0===t?void 0:t.quotient;return void 0!==n&&void 0!==r?m.Position.fromAmounts({pool:q,tickLower:G,tickUpper:K,amount0:n,amount1:r,useFullPrecision:!0}):void 0},[er,q,S,E,ei,ea,Z,G,K]);return n||(t="Connect Wallet"),I&&(t=null!=t?t:"Invalid pair"),Y&&(t=null!=t?t:"Invalid price input"),(er[l.gN.CURRENCY_A]||el)&&(er[l.gN.CURRENCY_B]||eo)||(t=null!=t?t:"Enter an amount"),(0,a.useMemo)(()=>({dependentField:N,currencies:P,pool:T,parsedAmounts:er,leftBoundInput:V,rightBoundInput:z,ticks:D,price:F,pricesAtTicks:Q,pricesAtLimit:X,position:es,noLiquidity:A,errorMessage:t,invalidPool:I,invalidRange:Z,outOfRange:ee,depositADisabled:el,depositBDisabled:eo,invertPrice:W,ticksAtLimit:H,...L}),[P,N,el,eo,t,I,Z,W,V,A,ee,er,T,es,F,X,Q,z,D,H,L])}function C(e,t,n,r,i,l){let{setFullRange:o,resetMintState:u}=y(),c=(0,a.useMemo)(()=>null==e?void 0:e.wrapped,[e]),p=(0,a.useMemo)(()=>null==t?void 0:t.wrapped,[t]),h=(0,a.useCallback)(()=>c&&p&&"number"==typeof r&&n?(0,m.tickToPrice)(c,p,r-s.TICK_SPACINGS[n]).toSignificant(5,void 0,d.Rounding.ROUND_UP):"number"!=typeof r&&c&&p&&n&&l?(0,m.tickToPrice)(c,p,l.tickCurrent-s.TICK_SPACINGS[n]).toSignificant(5,void 0,d.Rounding.ROUND_UP):"",[c,p,r,n,l]);return{getDecrementLower:h,getIncrementLower:(0,a.useCallback)(()=>c&&p&&"number"==typeof r&&n?(0,m.tickToPrice)(c,p,r+s.TICK_SPACINGS[n]).toSignificant(5,void 0,d.Rounding.ROUND_UP):"number"!=typeof r&&c&&p&&n&&l?(0,m.tickToPrice)(c,p,l.tickCurrent+s.TICK_SPACINGS[n]).toSignificant(5,void 0,d.Rounding.ROUND_UP):"",[c,p,r,n,l]),getDecrementUpper:(0,a.useCallback)(()=>c&&p&&"number"==typeof i&&n?(0,m.tickToPrice)(c,p,i-s.TICK_SPACINGS[n]).toSignificant(5,void 0,d.Rounding.ROUND_UP):"number"!=typeof i&&c&&p&&n&&l?(0,m.tickToPrice)(c,p,l.tickCurrent-s.TICK_SPACINGS[n]).toSignificant(5,void 0,d.Rounding.ROUND_UP):"",[c,p,i,n,l]),getIncrementUpper:(0,a.useCallback)(()=>c&&p&&"number"==typeof i&&n?(0,m.tickToPrice)(c,p,i+s.TICK_SPACINGS[n]).toSignificant(5,void 0,d.Rounding.ROUND_UP):"number"!=typeof i&&c&&p&&n&&l?(0,m.tickToPrice)(c,p,l.tickCurrent+s.TICK_SPACINGS[n]).toSignificant(5,void 0,d.Rounding.ROUND_UP):"",[c,p,i,n,l]),getSetFullRange:o,resetMintState:u}}},83778:function(e,t,n){n.d(t,{p:function(){return a}});var r=n(73620),i=n(68646);function a(e){let{chainId:t,token0:n,token1:a,feeAmount:l,enabled:o=!0}=e,s=(0,i.OW)({chainId:t,token0:n,token1:a,feeAmount:l,enabled:o});return(0,r.useMemo)(()=>{let e=s.data;if(!e)return s;let t=[];for(let n=0;n<e.length;n++){let r=e[n],i={activeLiquidity:parseFloat(r.liquidityActive.toString()),price0:parseFloat(r.price0)};i.activeLiquidity>0&&t.push(i)}return{...s,data:t}},[s])}},89901:function(e,t,n){n.d(t,{Z:function(){return F}});var r,i,a=n(13898),l=n(95981),o=n(20217),s=n(76819),u=n(5912),c=n(47325),d=n(73620),m=n(4470),p=n(95799),h=n(34800),x=n(96460),f=n.n(x);let g=e=>{let{series:t,xScale:n,yScale:r,xValue:i,yValue:l,fill:o,opacity:s}=e;return(0,d.useMemo)(()=>{var e;return(0,a.jsx)("path",{opacity:null!=s?s:.5,stroke:o,fill:o,d:null!==(e=(0,c.SOn)().curve(c.jsv).x(e=>n(i(e))).y1(e=>r(l(e))).y0(r(0))(t.filter(e=>{let t=n(i(e));return t>0&&t<=window.innerWidth})))&&void 0!==e?e:void 0})},[o,s,t,n,i,r,l])},R=e=>{let{axisGenerator:t}=e;return(0,a.jsx)("g",{ref:e=>{e&&(0,c.Ys)(e).call(t).call(e=>e.select(".domain").remove())},className:"text-slate-600 dark:text-slate-400"})},y=e=>{let{xScale:t,innerHeight:n,offset:r=0}=e;return(0,d.useMemo)(()=>(0,a.jsx)("g",{className:"[>_line]:hidden [>_text]:text-slate-400 [>_text]:translate-y-[5px]",transform:"translate(0, ".concat(n+r,")"),children:(0,a.jsx)(R,{axisGenerator:(0,c.LLu)(t).ticks(6)})}),[n,r,t])};var v=n(49372);let C=e=>["M 0 0","v ".concat(e),"m 1 0","V 0","M 0 1","h 12","q 2 0, 2 2","v 22","q 0 2 -2 2","h -12","z"].join(" "),k=()=>"m 5 7 v 14 M 0 0 m 9 7 v 14 z",b=e=>{let{color:t,size:n=10,margin:r=10}=e;return(0,a.jsx)("polygon",{points:"0 0, ".concat(n," ").concat(n,", 0 ").concat(n),transform:" translate(".concat(n+r,", ").concat(r,") rotate(45) "),fill:t,stroke:t,strokeWidth:"4",strokeLinejoin:"round"})};(r=i||(i={})).e="e",r.w="w";let M=(e,t,n)=>{let r=e.map(e=>n(e).toFixed(1)),i=t.map(e=>n(e).toFixed(1));return r.every((e,t)=>e===i[t])},N=e=>{let{id:t,xScale:n,interactive:r,brushLabelValue:l,brushExtent:o,setBrushExtent:s,innerWidth:u,innerHeight:m,westHandleColor:p,eastHandleColor:h,getNewRangeWhenBrushing:x}=e,f=(0,d.useRef)(null),g=(0,d.useRef)(null),[R,y]=(0,d.useState)(o),[N,P]=(0,d.useState)(!1),[S,E]=(0,d.useState)(!1),j=(0,v.usePrevious)(o),w=(0,d.useCallback)(e=>{let{type:t,selection:r,mode:a}=e;if(!r){y(null);return}if(!a)return;let l=r.map(n.invert);if("end"===t&&!M(o,l,n)){let e=l[0].toFixed(6)!==o[0].toFixed(6)?i.e:l[1].toFixed(6)!==o[1].toFixed(6)?i.w:void 0,t=x(l,e);s(null!=t?t:l,a)}y(l)},[n,o,s,x]);(0,d.useEffect)(()=>{y(o)},[o]),(0,d.useEffect)(()=>{f.current&&(g.current=(0,c.Yud)().extent([[Math.max(2,n(0)),0],[u-2,m]]).handleSize(30).filter(()=>r).on("brush end",w),g.current((0,c.Ys)(f.current)),j&&M(o,j,n)&&(0,c.Ys)(f.current).transition().call(g.current.move,o.map(n)),(0,c.Ys)(f.current).selectAll(".selection").attr("stroke","none").attr("fill-opacity","0.1").attr("fill","url(#".concat(t,"-gradient-selection)")))},[o,w,t,m,u,r,j,n]),(0,d.useEffect)(()=>{f.current&&g.current&&g.current.move((0,c.Ys)(f.current),o.map(n))},[o,n]),(0,d.useEffect)(()=>{P(!0);let e=setTimeout(()=>P(!1),1500);return()=>clearTimeout(e)},[R]);let U=R&&n(R[0])>20,L=R&&n(R[1])>u-20,T=R&&(0>n(R[0])||0>n(R[1])),_=R&&(n(R[0])>u||n(R[1])>u),I=R&&n(R[0])>=0&&n(R[0])<=u,A=R&&n(R[1])>=0&&n(R[1])<=u;return(0,d.useMemo)(()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"".concat(t,"-gradient-selection"),x1:"0%",y1:"100%",x2:"100%",y2:"100%",children:[(0,a.jsx)("stop",{stopColor:p}),(0,a.jsx)("stop",{stopColor:h,offset:"1"})]}),(0,a.jsx)("clipPath",{id:"".concat(t,"-brush-clip"),children:(0,a.jsx)("rect",{x:"0",y:"0",width:u,height:m})})]}),(0,a.jsx)("g",{ref:f,clipPath:"url(#".concat(t,"-brush-clip)"),onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1)}),R&&(0,a.jsxs)(a.Fragment,{children:[I?(0,a.jsxs)("g",{transform:"translate(".concat(Math.max(0,n(R[0])),", 0), scale(").concat(U?"-1":"1",", 1)"),children:[(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{cursor:"ew-resize",pointerEvents:"none",strokeWidth:3,stroke:p,fill:p,d:C(m)}),(0,a.jsx)("path",{cursor:"ew-resize",pointerEvents:"none",strokeWidth:1.5,stroke:"currentColor",className:"text-white",opacity:.6,d:k()})]}),(0,a.jsxs)("g",{className:"transition-opacity duration-300",opacity:N||S?1:0,transform:"translate(50,0), scale(".concat(U?"1":"-1",", 1)"),children:[(0,a.jsx)("rect",{fill:"currentColor",className:"text-gray-100 dark:text-slate-900",y:"1",x:"-30",height:"30",width:"60",rx:"8"}),(0,a.jsx)("text",{textAnchor:"middle",fontSize:13,fill:"currentColor",className:"text-gray-600 dark:text-slate-400 font-medium",transform:"scale(-1, 1)",y:"16",dominantBaseline:"middle",children:l("w",R[0])})]})]}):null,A?(0,a.jsxs)("g",{transform:"translate(".concat(n(R[1]),", 0), scale(").concat(L?"-1":"1",", 1)"),children:[(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{cursor:"ew-resize",pointerEvents:"none",strokeWidth:3,stroke:h,fill:h,color:h,d:C(m)}),(0,a.jsx)("path",{cursor:"ew-resize",pointerEvents:"none",strokeWidth:1.5,stroke:"currentColor",className:"text-white",opacity:.6,d:k()})]}),(0,a.jsxs)("g",{className:"transition-opacity duration-300",opacity:N||S?1:0,transform:"translate(50,0), scale(".concat(L?"-1":"1",", 1)"),children:[(0,a.jsx)("rect",{fill:"currentColor",className:"text-gray-100 dark:text-slate-900",y:"1",x:"-30",height:"30",width:"60",rx:"8"}),(0,a.jsx)("text",{textAnchor:"middle",fontSize:13,fill:"currentColor",className:"text-gray-600 dark:text-slate-400 font-medium",y:"16",dominantBaseline:"middle",children:l("e",R[1])})]})]}):null,T&&(0,a.jsx)(b,{color:p}),_&&(0,a.jsx)("g",{transform:"translate(".concat(u,", 0) scale(-1, 1)"),children:(0,a.jsx)(b,{color:h})})]})]}),[l,h,A,L,U,S,t,m,u,R,_,N,T,p,I,n])},P=e=>{let{value:t,xScale:n,innerHeight:r}=e;return(0,d.useMemo)(()=>(0,a.jsx)("line",{opacity:1,strokeWidth:1,stroke:"currentColor",fill:"none",className:"text-gray-900 dark:text-slate-300",x1:n(t),y1:"0",x2:n(t),y2:r}),[t,n,r])};var S=n(38829),E=n(29596),j=n(73612);let w=e=>{let{svg:t,xScale:n,setZoom:r,width:i,height:l,resetBrush:o,showResetButton:s,zoomLevels:u}=e,m=(0,d.useRef)(),[p,h,x,f]=(0,d.useMemo)(()=>[()=>t&&m.current&&(0,c.Ys)(t).transition().call(m.current.scaleBy,2),()=>t&&m.current&&(0,c.Ys)(t).transition().call(m.current.scaleBy,.5),()=>t&&m.current&&(0,c.Ys)(t).transition().call(m.current.scaleTo,.5),()=>t&&m.current&&(0,c.Ys)(t).call(m.current.transform,c.CRH.translate(0,0).scale(1)).transition().call(m.current.scaleTo,.5)],[t]);return(0,d.useEffect)(()=>{t&&(m.current=(0,c.sPX)().scaleExtent([u.min,u.max]).extent([[0,0],[i,l]]).on("zoom",e=>{let{transform:t}=e;return r(t)}),(0,c.Ys)(t).call(m.current))},[l,i,r,t,n,m,u,u.max,u.min]),(0,d.useEffect)(()=>{x()},[x,u]),(0,a.jsxs)("div",{className:"flex justify-between gap-2",children:[s?(0,a.jsx)(j.zx,{size:"sm",variant:"link",disabled:!s,onClick:()=>{o(),f()},children:"Clear all"}):(0,a.jsx)("div",{}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(j.zx,{size:"sm",variant:"secondary",onClick:p,disabled:!1,children:(0,a.jsx)(S.Z,{width:20,height:20})}),(0,a.jsx)(j.zx,{size:"sm",variant:"secondary",onClick:h,disabled:!1,children:(0,a.jsx)(E.Z,{width:20,height:20})})]})]})},U=e=>e.price0,L=e=>e.activeLiquidity,T=e=>{let{id:t="liquidityChartRangeInput",data:{series:n,current:r},priceRange:i,styles:l,dimensions:{width:o,height:s},margins:u,interactive:m=!0,brushDomain:p,brushLabels:h,onBrushDomainChange:x,getNewRangeWhenBrushing:f,zoomLevels:R,hideBrushes:v}=e,C=(0,d.useRef)(null),[k,b]=(0,d.useState)(null),[M,S]=(0,d.useMemo)(()=>[s-u.top-u.bottom,o-u.left-u.right],[o,s,u]),{xScale:E,yScale:j}=(0,d.useMemo)(()=>{let e={xScale:(0,c.BYU)().domain([r*R.initialMin,r*R.initialMax]).range([0,S]),yScale:(0,c.BYU)().domain([0,(0,c.Fp7)(n,L)]).range([M,0])};if(k){let t=k.rescaleX(e.xScale);e.xScale.domain(t.domain())}return e},[r,R.initialMin,R.initialMax,S,n,M,k]);return(0,d.useEffect)(()=>{b(null)},[R]),(0,d.useEffect)(()=>{p||x(E.domain(),void 0)},[p,x,E]),(0,a.jsxs)("div",{className:"relative flex flex-col",children:[(0,a.jsx)(w,{svg:C.current,xScale:E,setZoom:b,width:S,height:s,resetBrush:()=>{x([r*R.initialMin,r*R.initialMax],"reset")},showResetButton:void 0!==i,zoomLevels:R}),(0,a.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 ".concat(o," ").concat(s),style:{overflow:"visible"},children:[(0,a.jsxs)("defs",{children:[(0,a.jsx)("clipPath",{id:"".concat(t,"-chart-clip"),children:(0,a.jsx)("rect",{x:"0",y:"0",width:S,height:s})}),p&&!v?(0,a.jsx)("mask",{id:"".concat(t,"-chart-area-mask"),children:(0,a.jsx)("rect",{fill:"white",x:E(p[0]),y:"0",width:E(p[1])-E(p[0]),height:M})}):null]}),(0,a.jsxs)("g",{transform:"translate(".concat(u.left,",").concat(u.top,")"),children:[(0,a.jsxs)("g",{clipPath:"url(#".concat(t,"-chart-clip)"),children:[(0,a.jsx)(g,{series:n,xScale:E,yScale:j,xValue:U,yValue:L,fill:l.area.selection,opacity:l.area.opacity}),p&&!v?(0,a.jsx)("g",{mask:"url(#".concat(t,"-chart-area-mask)"),children:(0,a.jsx)(g,{series:n,xScale:E,yScale:j,xValue:U,yValue:L,fill:l.area.selection})}):null,(0,a.jsx)(P,{value:r,xScale:E,innerHeight:M}),(0,a.jsx)(y,{xScale:E,innerHeight:M})]}),(0,a.jsx)("rect",{fill:"transparent",className:"cursor-grab active:cursor-grabbing",width:S,height:s,ref:C}),v?null:(0,a.jsx)(N,{id:t,xScale:E,interactive:m,brushLabelValue:h,brushExtent:null!=p?p:E.domain(),innerWidth:S,innerHeight:M,setBrushExtent:x,westHandleColor:l.brush.handle.west,eastHandleColor:l.brush.handle.east,getNewRangeWhenBrushing:f})]})]})]})};var _=n(83778);let I={e:"LOWER",w:"UPPER"},A={[p.SushiSwapV3FeeAmount.LOWEST]:{initialMin:.999,initialMax:1.001,min:1e-5,max:1.5},[p.SushiSwapV3FeeAmount.LOW]:{initialMin:.999,initialMax:1.001,min:1e-5,max:1.5},[p.SushiSwapV3FeeAmount.MEDIUM]:{initialMin:.5,initialMax:2,min:1e-5,max:20},[p.SushiSwapV3FeeAmount.HIGH]:{initialMin:.5,initialMax:2,min:1e-5,max:20}},W=e=>{let{message:t,icon:n}=e;return(0,a.jsxs)("div",{className:"w-full items-center flex flex-col justify-center h-full bg-white dark:bg-white/[0.02] rounded-lg",children:[n,t&&(0,a.jsx)("span",{className:"font-medium text-sm mt-5 text-center p-2.5 text-gray-600 dark:text-slate-400 text-slate-600",children:t})]})};function F(e){let{chainId:t,currencyA:n,currencyB:r,feeAmount:i,ticksAtLimit:x,priceRange:g,price:R,priceLower:y,priceUpper:v,weightLockedCurrencyBase:C,onLeftRangeInput:k,onRightRangeInput:b,interactive:M,hideBrushes:N=!1}=e,P=n&&r&&(null==n?void 0:n.wrapped.sortsBefore(null==r?void 0:r.wrapped)),{isLoading:S,error:E,data:j}=(0,_.p)({chainId:t,token0:n,token1:r,feeAmount:i}),w=(0,d.useCallback)((e,t)=>{let n=Number(e[0]),r=Number(e[1]);n<=0&&(n=1e-6),(!x[P?m.Mb.LOWER:m.Mb.UPPER]||"handle"===t||"reset"===t)&&n>0&&k(n.toFixed(6)),(!x[P?m.Mb.UPPER:m.Mb.LOWER]||"reset"===t)&&r>0&&r<1e35&&b(r.toFixed(6))},[P,k,b,x]);M=M&&!!(null==j?void 0:j.length);let U=(0,d.useMemo)(()=>{let e=P?y:null==v?void 0:v.invert(),t=P?v:null==y?void 0:y.invert();return e&&t?[parseFloat(null==e?void 0:e.toSignificant(6)),parseFloat(null==t?void 0:t.toSignificant(6))]:void 0},[P,y,v]),L=(0,d.useCallback)((e,t)=>{if(!R)return"";if("w"===e&&x[P?m.Mb.LOWER:m.Mb.UPPER])return"0";if("e"===e&&x[P?m.Mb.UPPER:m.Mb.LOWER])return"∞";let n=(Math.max(t,R)-Math.min(t,R))/R*(t<R?-1:1)*100;return R?"".concat((0,c.WUZ)(Math.abs(n)>1?".2~s":".2~f")(n),"%"):""},[P,R,x]),F=!n||!r||void 0===j&&!S,Y=(0,d.useCallback)((e,t)=>{if("number"==typeof R&&t&&"number"==typeof C)return(0,h.getPriceRangeWithTokenRatio)(R,e[0],e[1],I[t],C)},[R,C]);return(0,a.jsx)("div",{className:"grid auto-rows-auto gap-3 min-h-[300px] overflow-hidden",children:F?(0,a.jsx)(W,{message:"Your position will appear here.",icon:(0,a.jsx)(l.Z,{width:16,stroke:"currentColor",className:"text-slate-200"})}):S?(0,a.jsx)(W,{icon:(0,a.jsx)(u.nN,{className:"w-full h-full"})}):E?(0,a.jsx)(W,{message:"Liquidity data not available.",icon:(0,a.jsx)(o.Z,{width:16,stroke:"currentColor",className:"dark:text-slate-400 text-slate-600"})}):j&&0!==j.length&&R?(0,a.jsx)("div",{className:"relative items-center justify-center",children:(0,a.jsx)(T,{data:{series:j,current:R},dimensions:{width:400,height:300},margins:{top:10,right:2,bottom:20,left:0},styles:{area:{selection:f().blue["500"]},brush:{handle:{west:f().blue["600"],east:f().blue["600"]}}},interactive:M,brushLabels:L,brushDomain:U,onBrushDomainChange:w,getNewRangeWhenBrushing:Y,zoomLevels:A[null!=i?i:p.SushiSwapV3FeeAmount.MEDIUM],priceRange:g,hideBrushes:N})}):(0,a.jsx)(W,{message:"There is no liquidity data.",icon:(0,a.jsx)(s.Z,{width:16,stroke:"currentColor",className:"dark:text-slate-400 text-slate-600"})})})}}}]);
//# sourceMappingURL=2211-1c1b950ee247c997.js.map